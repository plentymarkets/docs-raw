

[[authentication_authentication]]
== Authentication

[[authentication_authentication_contracts]]
===  Contracts
[[authentication_contracts_contactauthenticationrepositorycontract]]
==== ContactAuthenticationRepositoryContract

The ContactAuthenticationRepositoryContract is the interface for the authentication repository. This interface allows to authenticate users in the client (store) by email and password or by contact ID and password. The interface also provides a method for logging out users from the client (store).



===== Namespace

`Plenty\Modules\Authentication\Contracts`






===== Methods

[source%nowrap, php]
----

public authenticateWithContactEmail($contactEmail, $password):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$contactEmail`
a|The email address of the contact of the user

|link:http://php.net/string[string^]
a|`$password`
a|The password of the user
|===


[source%nowrap, php]
----

public authenticateWithContactId($contactId, $password):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$contactId`
a|The ID of the contact of the user

|link:http://php.net/string[string^]
a|`$password`
a|The password of the user
|===


[source%nowrap, php]
----

public authenticateWithPlentyId($plentyId, $password):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$plentyId`
a|The PlentyId of the plenty system of the user

|link:http://php.net/string[string^]
a|`$password`
a|The password of the user
|===


[source%nowrap, php]
----

public authenticateWithToken($token):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$token`
a|
|===


[source%nowrap, php]
----

public logout():void

----

    







[[authentication_authentication_events]]
===  Events
[[authentication_events_afteraccountauthentication]]
==== AfterAccountAuthentication

The event is triggered after a user is authenticated in the client (store).



===== Namespace

`Plenty\Modules\Authentication\Events`






===== Methods

[source%nowrap, php]
----

public isSuccessful():bool

----

    







[source%nowrap, php]
----

public getAccountContact():Plenty\Modules\Account\Contact\Models\Contact

----

    


====== *Return type:*        xref:Account.adoc#account_models_contact[`Contact`]





[[authentication_events_afteraccountcontactlogout]]
==== AfterAccountContactLogout

The event is triggered after a user is logged out from the client (store).



===== Namespace

`Plenty\Modules\Authentication\Events`





[[authentication_authentication_models]]
===  Models
[[authentication_models_user]]
==== User

The user authentication model



===== Namespace

`Plenty\Modules\Authentication\Models`





.Properties
[cols="10%,30%,60%"]
|===
|Type |Name |Description

|link:http://php.net/int[int^]
    a|id
    a|The ID of the user
|link:http://php.net/int[int^]
    a|userId
    a|The ID of the user
|
    a|pwd
    a|
|
    a|pwd_md5
    a|
|link:http://php.net/string[string^]
    a|email
    a|
|link:http://php.net/string[string^]
    a|emailHash
    a|
|link:http://php.net/string[string^]
    a|timezone
    a|
|link:http://php.net/int[int^]
    a|ticket
    a|
|link:http://php.net/string[string^]
    a|password
    a|The password of the user
|
    a|user
    a|The login name of the user
|link:http://php.net/string[string^]
    a|username
    a|The login name of the user
|link:http://php.net/int[int^]
    a|userClass
    a|
|link:http://php.net/array[array^]
    a|userRights
    a|
|link:http://php.net/array[array^]
    a|uiConfig
    a|
|link:http://php.net/array[array^]
    a|permissions
    a|
|link:http://php.net/array[array^]
    a|pluginPermissions
    a|
|link:http://php.net/array[array^]
    a|roles
    a|
|link:http://php.net/array[array^]
    a|accessControl
    a|
|link:http://php.net/int[int^]
    a|daysLeftToChangePassword
    a|
|link:http://php.net/bool[bool^]
    a|isSupportUser
    a|
|link:http://php.net/string[string^]
    a|oauthAccessTokensId
    a|
|===


===== Methods

[source%nowrap, php]
----

public toArray()

----

    





Returns this model as an array.

