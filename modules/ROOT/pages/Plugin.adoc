:table-caption!:
:example-caption!:
:source-highlighter: prettify
:sectids!:
= Plentymarkets interface documentation


[[plugin_plugin]]
== Plugin

[[plugin_plugin_contracts]]
===  Contracts
[[plugin_contracts_configurationrepositorycontract]]
==== ConfigurationRepositoryContract

Save config values for plugins



===== Namespace

`Plenty\Modules\Plugin\Contracts`






===== Methods

[source%nowrap, php]
[#saveconfiguration]
----

public saveConfiguration($pluginId, $configMap, $setId = null, $resetCache = true):array

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginId`
|link:http://php.net/int[int^]
a|

a|`$configMap`
|link:http://php.net/array[array^]
a|

a|`$setId`
|link:http://php.net/int[int^]
a|

a|`$resetCache`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#copytopluginsetentry]
----

public copyToPluginSetEntry($configurationOrId, $pluginSetEntryOrId):int

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$configurationOrId`
|
a|

a|`$pluginSetEntryOrId`
|
a|
|===


[source%nowrap, php]
[#getconfigurationfile]
----

public getConfigurationFile($pluginId, $setId):string

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginId`
|link:http://php.net/int[int^]
a|

a|`$setId`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#export]
----

public export($setId, $pluginId = null, $active = null):array

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$setId`
|link:http://php.net/int[int^]
a|

a|`$pluginId`
|link:http://php.net/int[int^]
a|

a|`$active`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#import]
----

public import($setId, $data, $pluginId = null):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$setId`
|link:http://php.net/int[int^]
a|

a|`$data`
|link:http://php.net/array[array^]
a|

a|`$pluginId`
|link:http://php.net/int[int^]
a|
|===



[[plugin_contracts_pluginlayoutcontainerrepositorycontract]]
==== PluginLayoutContainerRepositoryContract

Plugin layout container



===== Namespace

`Plenty\Modules\Plugin\Contracts`






===== Methods

[source%nowrap, php]
[#all]
----

public all($pluginSetId):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginSetId`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#updateall]
----

public updateAll($dataList, $pluginSetId, $pluginId = null):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$dataList`
|link:http://php.net/array[array^]
a|

a|`$pluginSetId`
|link:http://php.net/int[int^]
a|

a|`$pluginId`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#getactivelinkedlayoutcontainers]
----

public getActiveLinkedLayoutContainers($activeContainerKeysList, $activeDataProviderKeysList, $pluginSetId = null):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$activeContainerKeysList`
|link:http://php.net/array[array^]
a|

a|`$activeDataProviderKeysList`
|link:http://php.net/array[array^]
a|

a|`$pluginSetId`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#getactivelinkedlayoutcontainersbypluginsetid]
----

public getActiveLinkedLayoutContainersByPluginSetId($activeContainerKeysList, $activeDataProviderKeysList, $pluginSetId):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$activeContainerKeysList`
|link:http://php.net/array[array^]
a|

a|`$activeDataProviderKeysList`
|link:http://php.net/array[array^]
a|

a|`$pluginSetId`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#addnew]
----

public addNew($dataList, $pluginSetId):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$dataList`
|link:http://php.net/array[array^]
a|

a|`$pluginSetId`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#addone]
----

public addOne($pluginSetId, $containerKey, $dataProviderKey, $containerPluginId = null, $dataProviderPluginId = null):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginSetId`
|link:http://php.net/int[int^]
a|

a|`$containerKey`
|link:http://php.net/string[string^]
a|

a|`$dataProviderKey`
|link:http://php.net/string[string^]
a|

a|`$containerPluginId`
|link:http://php.net/int[int^]
a|

a|`$dataProviderPluginId`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#removeone]
----

public removeOne($pluginSetId, $containerKey, $dataProviderKey, $containerPluginId = null, $dataProviderPluginId = null):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginSetId`
|link:http://php.net/int[int^]
a|

a|`$containerKey`
|link:http://php.net/string[string^]
a|

a|`$dataProviderKey`
|link:http://php.net/string[string^]
a|

a|`$containerPluginId`
|link:http://php.net/int[int^]
a|

a|`$dataProviderPluginId`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#exportbypluginsetid]
----

public exportByPluginSetId($pluginSetOrId):array

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginSetOrId`
|
a|
|===


[source%nowrap, php]
[#importbypluginsetid]
----

public importByPluginSetId($pluginSetOrId, $containers):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginSetOrId`
|
a|

a|`$containers`
|link:http://php.net/array[array^]
a|
|===



[[plugin_contracts_pluginrepositorycontract]]
==== PluginRepositoryContract

Search plugins according to parameters



===== Namespace

`Plenty\Modules\Plugin\Contracts`






===== Methods

[source%nowrap, php]
[#getpluginbyname]
----

public getPluginByName($name):Plenty\Modules\Plugin\Models\Plugin

----




====== *Return type:*        xref:Plugin.adoc#plugin_models_plugin[`Plugin`]




.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$name`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#searchplugins]
----

public searchPlugins($params = [], $itemsPerPage = \Plenty\Modules\Plugin\Models\Plugin::DEFAULT_ITEMS_PER_PAGE):Plenty\Repositories\Models\PaginatedResult

----




====== *Return type:*        xref:Miscellaneous.adoc#miscellaneous_models_paginatedresult[`PaginatedResult`]


Search plugins using filters. Example: searchPlugins([&#039;name&#039; =&gt; &#039;PluginIWantToFind&#039;])

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$params`
|link:http://php.net/array[array^]
a|

a|`$itemsPerPage`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#getpluginsets]
----

public getPluginSets($pluginId):array

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginId`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#isactiveinpluginset]
----

public isActiveInPluginSet($pluginId, $pluginSetIdOrPluginSet):bool

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginId`
|link:http://php.net/int[int^]
a|

a|`$pluginSetIdOrPluginSet`
|
a|
|===


[source%nowrap, php]
[#isactiveinpluginsetbyname]
----

public isActiveInPluginSetByName($pluginName, $pluginSetId):bool

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|

a|`$pluginSetId`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#isactiveinwebstore]
----

public isActiveInWebstore($pluginId, $webstoreId):bool

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginId`
|link:http://php.net/int[int^]
a|

a|`$webstoreId`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#isactiveinwebstorebypluginname]
----

public isActiveInWebstoreByPluginName($pluginName, $webstoreId):bool

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|

a|`$webstoreId`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#decorateplugin]
----

public decoratePlugin($plugin, $pluginSetId = null):Plenty\Modules\Plugin\Models\Plugin

----




====== *Return type:*        xref:Plugin.adoc#plugin_models_plugin[`Plugin`]




.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$plugin`
|        xref:Plugin.adoc#plugin_models_plugin[`Plugin`]
a|

a|`$pluginSetId`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#installmarketplacepluginbyitemid]
----

public installMarketplacePluginByItemId($marketplacePluginItemId, $pluginSetId = null):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$marketplacePluginItemId`
|link:http://php.net/int[int^]
a|

a|`$pluginSetId`
|link:http://php.net/int[int^]
a|
|===


[[plugin_plugin_events]]
===  Events
[[plugin_events_afterbuildplugins]]
==== AfterBuildPlugins

Event after plugin build has finished



===== Namespace

`Plenty\Modules\Plugin\Events`






===== Methods

[source%nowrap, php]
[#getpluginset]
----

public getPluginSet():Plenty\Modules\Plugin\PluginSet\Models\PluginSet

----




====== *Return type:*        xref:Plugin.adoc#plugin_models_pluginset[`PluginSet`]


Get the plugin set which have been built

[source%nowrap, php]
[#sourcehaschanged]
----

public sourceHasChanged($pluginName):bool

----







Check if php files of a plugin have been changed

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#resourceshaschanged]
----

public resourcesHasChanged($pluginName):bool

----







Check if resource files of a plugin have been changed

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|
|===



[[plugin_events_loadsitemappattern]]
==== LoadSitemapPattern

LoadSitemapPatternEvent



===== Namespace

`Plenty\Modules\Plugin\Events`






[[plugin_events_pluginsendmail]]
==== PluginSendMail

PluginSendMail



===== Namespace

`Plenty\Modules\Plugin\Events`






===== Methods

[source%nowrap, php]
[#gettemplate]
----

public getTemplate():void

----









[source%nowrap, php]
[#getcontactemail]
----

public getContactEmail():void

----









[source%nowrap, php]
[#getcallfunction]
----

public getCallFunction():void

----









[[plugin_plugin_models]]
===  Models
[[plugin_models_installedplugins]]
==== InstalledPlugins

Model representing an installed Plugin



===== Namespace

`Plenty\Modules\Plugin\Models`





.Properties
[cols="3,1,6"]
|===
|Name |Type |Description

|id
    |link:http://php.net/int[int^]
    a|The ID of the installed plugin instance
|variationId
    |link:http://php.net/int[int^]
    a|The variationId of the installed version
|itemId
    |link:http://php.net/int[int^]
    a|The id of the installed plugin
|removed
    |link:http://php.net/bool[bool^]
    a|Whether this version of the plugin has been removed by the customer
|lastUpdateChecksum
    |link:http://php.net/string[string^]
    a|checksum of last installed plugin code
|===


===== Methods

[source%nowrap, php]
[#toarray]
----

public toArray()

----







Returns this model as an array.


[[plugin_models_plugin]]
==== Plugin

Eloquent model representing a Plugin.



===== Namespace

`Plenty\Modules\Plugin\Models`





.Properties
[cols="3,1,6"]
|===
|Name |Type |Description

|id
    |link:http://php.net/int[int^]
    a|The ID of the plugin
|name
    |link:http://php.net/string[string^]
    a|The name of the plugin
|position
    |link:http://php.net/int[int^]
    a|The position of the plugin. The position is used to determine the plugin
order.
|activeStage
    |link:http://php.net/bool[bool^]
    a|Shows whether the plugin is active in Stage. Inactive plugins will not
be provisioned in Stage.
|activeProductive
    |link:http://php.net/bool[bool^]
    a|Shows whether the plugin is active in Productive. Inactive plugins will
not be provisioned in Productive.
|created_at
    |link:http://php.net/string[string^]
    a|The date that the plugin was created.
|updated_at
    |link:http://php.net/string[string^]
    a|The date that the plugin was updated last.
|inStage
    |link:http://php.net/bool[bool^]
    a|Shows whether the plugin is provisioned in Stage.
|inProductive
    |link:http://php.net/bool[bool^]
    a|Shows whether the plugin is provisioned in Productive.
|isConnectedWithGit
    |link:http://php.net/bool[bool^]
    a|
|updateInformation
    |link:http://php.net/array[array^]
    a|
|type
    |link:http://php.net/string[string^]
    a|The type of the plugin. The following plugin types are available:
<ul>
    <li>Template</li>
    <li>Export</li>
</ul>
|installed
    |link:http://php.net/bool[bool^]
    a|Whether or not the plugin is installed. This will be false for plugins
that have been purchased from the marketplace but have not yet been installed in any set.
|version
    |link:http://php.net/string[string^]
    a|The version of the plugin
|versionStage
    |link:http://php.net/string[string^]
    a|The version of the plugin in stage
|versionProductive
    |link:http://php.net/string[string^]
    a|The version of the plugin in productive
|marketplaceVariations
    |link:http://php.net/array[array^]
    a|A list of available marketplace versions
|description
    |link:http://php.net/string[string^]
    a|The description text of the plugin
|namespace
    |link:http://php.net/string[string^]
    a|The namespace of the plugin
|dependencies
    |link:http://php.net/array[array^]
    a|A list of plugins with dependencies to the plugin
|author
    |link:http://php.net/string[string^]
    a|The name of the plugin author
|price
    |link:http://php.net/float[float^]
    a|The price of the plugin
|keywords
    |link:http://php.net/array[array^]
    a|A list of plugin keywords
|require
    |link:http://php.net/array[array^]
    a|A list of plugins that are required by the plugin
|notInstalledRequirements
    |link:http://php.net/array[array^]
    a|A list of required plugins that are not installed
|notActiveStageRequirements
    |link:http://php.net/array[array^]
    a|A list of required plugins that are not active in stage
|notActiveProductiveRequirements
    |link:http://php.net/array[array^]
    a|A list of required plugins that are not active in productive
|serviceProvider
    |link:http://php.net/string[string^]
    a|The class name of the service provider
|runOnBuild
    |link:http://php.net/array[array^]
    a|The list of classes to execute once on plugin build
|checkOnBuild
    |link:http://php.net/array[array^]
    a|The list of classes to execute on every plugin build
|pluginPath
    |link:http://php.net/string[string^]
    a|The plugin path
|authorIcon
    |link:http://php.net/string[string^]
    a|The author icon
|pluginIcon
    |link:http://php.net/string[string^]
    a|The plugin icon
|license
    |link:http://php.net/string[string^]
    a|The plugin license
|shortDescription
    |link:http://php.net/array[array^]
    a|
|isClosedSource
    |link:http://php.net/bool[bool^]
    a|is closed source
|inboxPath
    |link:http://php.net/string[string^]
    a|path in the inbox (closed source, open source)
|marketplaceName
    |link:http://php.net/array[array^]
    a|The plugin name displayed in marketplace
|source
    |link:http://php.net/string[string^]
    a|Whether this plugin was installed from marketplace, git or local
|javaScriptFiles
    |link:http://php.net/array[array^]
    a|A list of included javascript files
|containers
    |link:http://php.net/array[array^]
    a|A list of provided containers with name and description
|dataProviders
    |link:http://php.net/array[array^]
    a|A list of data providers with name and description
|categories
    |link:http://php.net/array[array^]
    a|
|webhookUrl
    |link:http://php.net/string[string^]
    a|webhookUrl
|isExternalTool
    |link:http://php.net/bool[bool^]
    a|is external tool
|directDownloadLinks
    |link:http://php.net/array[array^]
    a|A list of urls for the external tool
|forwardLink
    |link:http://php.net/string[string^]
    a|A forward link to the external tool developers page
|branch
    |link:http://php.net/string[string^]
    a|The branch to checkout for this particular Plugin
|commit
    |link:http://php.net/string[string^]
    a|The commit to checkout for this particular Plugin
|subscriptionInformation
    |link:http://php.net/array[array^]
    a|A list if subscription informations
|offerTrial
    |link:http://php.net/bool[bool^]
    a|Determines if the plugin offers a trial period for plentyMarketplace
|offerFreemium
    |link:http://php.net/bool[bool^]
    a|Determines if the plugin offers freemium functionality
|configurations
    |link:http://php.net/array[array^]
    a|A list of plugin configuration items
|webstores
    |link:http://php.net/array[array^]
    a|A list of clients (stores) activated for the plugin
|linkedDataProviders
    |link:http://php.net/array[array^]
    a|A list of dataProviders linked with a container of this plugin
|linkedContainers
    |link:http://php.net/array[array^]
    a|A list of containers linked with a data provider of this plugin
|repository
    |        xref:Plugin.adoc#plugin_models_git[`Git`]
    a|
|installedPlugins
    |        xref:Plugin.adoc#plugin_models_installedplugins[`InstalledPlugins`]
    a|
|pluginSetIds
    |link:http://php.net/array[array^]
    a|Array of PluginSet Ids where this plugin is contained.
|pluginSetEntries
    |link:http://php.net/array[array^]
    a|A list of PluginSetEntries this plugin is linked to
|pluginSetEntriesWithTrashed
    |link:http://php.net/array[array^]
    a|A list of PluginSetEntries this plugin is linked to, including
trashed
          entries
|===


===== Methods

[source%nowrap, php]
[#toarray]
----

public toArray()

----







Returns this model as an array.

[[plugin_plugin_services]]
===  Services
[[plugin_services_pluginsendmailservice]]
==== PluginSendMailService

The PluginSendMailService send mails in plugins



===== Namespace

`Plenty\Modules\Plugin\Services`






===== Methods

[source%nowrap, php]
[#getinstance]
----

public static getInstance($webstoreId):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$webstoreId`
|
a|
|===


[source%nowrap, php]
[#sendmail]
----

public sendMail($url, $template = &quot;&quot;, $email = &quot;&quot;, $callFunction = &quot;&quot;):bool

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$url`
|link:http://php.net/string[string^]
a|

a|`$template`
|link:http://php.net/string[string^]
a|

a|`$email`
|link:http://php.net/string[string^]
a|

a|`$callFunction`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#getstatus]
----

public getStatus():bool

----









[source%nowrap, php]
[#setstatus]
----

public setStatus($status):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$status`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#isinitialized]
----

public isInitialized():bool

----









[source%nowrap, php]
[#setinitialized]
----

public setInitialized($initialized):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$initialized`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#getemailplaceholder]
----

public getEmailPlaceholder():array

----









[source%nowrap, php]
[#addemailplaceholder]
----

public addEmailPlaceholder($placeholder, $value):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$placeholder`
|link:http://php.net/string[string^]
a|

a|`$value`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#setemailplaceholder]
----

public setEmailPlaceholder($emailPlaceholder):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$emailPlaceholder`
|link:http://php.net/array[array^]
a|
|===


[source%nowrap, php]
[#getemailplaceholderkey]
----

public getEmailPlaceholderKey($key, $default = &quot;&quot;):string

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$key`
|link:http://php.net/string[string^]
a|

a|`$default`
|link:http://php.net/string[string^]
a|
|===



[[plugin_services_pluginseositemapservice]]
==== PluginSeoSitemapService

The PluginSeoSitemapService collect the sitemap patterns.



===== Namespace

`Plenty\Modules\Plugin\Services`






===== Methods

[source%nowrap, php]
[#loadpatterns]
----

public loadPatterns($url):bool

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$url`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#getpatterns]
----

public getPatterns():array

----









[source%nowrap, php]
[#setitempattern]
----

public setItemPattern($pattern):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pattern`
|link:http://php.net/array[array^]
a|
|===


[source%nowrap, php]
[#setblogpattern]
----

public setBlogPattern($pattern):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pattern`
|link:http://php.net/array[array^]
a|
|===


[source%nowrap, php]
[#setcontentcategorypattern]
----

public setContentCategoryPattern($pattern):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pattern`
|link:http://php.net/array[array^]
a|
|===


[source%nowrap, php]
[#setitemcategorypattern]
----

public setItemCategoryPattern($pattern):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pattern`
|link:http://php.net/array[array^]
a|
|===


[source%nowrap, php]
[#getitempattern]
----

public getItemPattern():string

----









[source%nowrap, php]
[#getblogpattern]
----

public getBlogPattern():string

----









[source%nowrap, php]
[#getitemcategorypattern]
----

public getItemCategoryPattern():string

----









[source%nowrap, php]
[#getcontentcategorypattern]
----

public getContentCategoryPattern():string

----









[[plugin_database]]
== DataBase

[[plugin_database_annotations]]
===  Annotations
[[plugin_annotations_index]]
==== Index





===== Namespace

`Plenty\Modules\Plugin\DataBase\Annotations`






===== Methods

[source%nowrap, php]
[#toarray]
----

public toArray()

----







Returns this model as an array.


[[plugin_annotations_nontableattribute]]
==== NonTableAttribute





===== Namespace

`Plenty\Modules\Plugin\DataBase\Annotations`






===== Methods

[source%nowrap, php]
[#toarray]
----

public toArray()

----







Returns this model as an array.


[[plugin_annotations_nullable]]
==== Nullable





===== Namespace

`Plenty\Modules\Plugin\DataBase\Annotations`






===== Methods

[source%nowrap, php]
[#toarray]
----

public toArray()

----







Returns this model as an array.


[[plugin_annotations_relation]]
==== Relation





===== Namespace

`Plenty\Modules\Plugin\DataBase\Annotations`






===== Methods

[source%nowrap, php]
[#toarray]
----

public toArray()

----







Returns this model as an array.

[[plugin_database_contracts]]
===  Contracts
[[plugin_contracts_criteriaquery]]
==== CriteriaQuery

database query



===== Namespace

`Plenty\Modules\Plugin\DataBase\Contracts`






===== Methods

[source%nowrap, php]
[#where]
----

public where($fieldName, $operator = null, $value = null):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a basic where clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|
a|
|===


[source%nowrap, php]
[#wherein]
----

public whereIn($fieldName, $values, $boolean = &quot;and&quot;, $not = false):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where in&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$values`
|link:http://php.net/array[array^]
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|

a|`$not`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#orwherein]
----

public orWhereIn($fieldName, $values):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;or where in&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$values`
|link:http://php.net/array[array^]
a|
|===


[source%nowrap, php]
[#orwhere]
----

public orWhere($fieldName, $operator = null, $value = null):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;or where&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|
a|
|===


[source%nowrap, php]
[#wherenull]
----

public whereNull($fieldName, $boolean = &quot;and&quot;, $not = false):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where null&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|

a|`$not`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#orwherenull]
----

public orWhereNull($fieldName):void

----







Add an &quot;or where null&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#having]
----

public having($fieldName, $operator = null, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;having&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|link:http://php.net/string[string^]
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#orhaving]
----

public orHaving($fieldName, $operator = null, $value = null):void

----







Add a &quot;or having&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#wherehas]
----

public whereHas($modelName, $callback = null, $operator = &quot;&gt;=&quot;, $count = 1):void

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$modelName`
|link:http://php.net/string[string^]
a|

a|`$callback`
|
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$count`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#join]
----

public join($firstModelName, $callback, $as = &quot;&quot;):void

----







Add a join clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$firstModelName`
|link:http://php.net/string[string^]
a|

a|`$callback`
|
a|

a|`$as`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#leftjoin]
----

public leftJoin($firstModelName, $callback):void

----







Add a left join to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$firstModelName`
|link:http://php.net/string[string^]
a|

a|`$callback`
|
a|
|===



[[plugin_contracts_database]]
==== DataBase

Database contract



===== Namespace

`Plenty\Modules\Plugin\DataBase\Contracts`






===== Methods

[source%nowrap, php]
[#save]
----

public save($model):Plenty\Modules\Plugin\DataBase\Contracts\Model

----




====== *Return type:*        xref:Plugin.adoc#plugin_contracts_model[`Model`]




.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$model`
|        xref:Plugin.adoc#plugin_contracts_model[`Model`]
a|
|===


[source%nowrap, php]
[#find]
----

public find($modelClassName, $primaryKeyFieldValue):Plenty\Modules\Plugin\DataBase\Contracts\Model

----




====== *Return type:*        xref:Plugin.adoc#plugin_contracts_model[`Model`]




.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$modelClassName`
|link:http://php.net/string[string^]
a|

a|`$primaryKeyFieldValue`
|
a|
|===


[source%nowrap, php]
[#query]
----

public query($modelClassName):Plenty\Modules\Plugin\DataBase\Contracts\Query

----




====== *Return type:*        xref:Plugin.adoc#plugin_contracts_query[`Query`]




.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$modelClassName`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#delete]
----

public delete($model):bool

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$model`
|        xref:Plugin.adoc#plugin_contracts_model[`Model`]
a|
|===



[[plugin_contracts_joinclausequery]]
==== JoinClauseQuery

database join query



===== Namespace

`Plenty\Modules\Plugin\DataBase\Contracts`






===== Methods

[source%nowrap, php]
[#on]
----

public on($firstModelName, $first, $operator = null, $secondModelName = null, $second = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]




.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$firstModelName`
|link:http://php.net/string[string^]
a|

a|`$first`
|
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$secondModelName`
|link:http://php.net/string[string^]
a|

a|`$second`
|link:http://php.net/string[string^]
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#where]
----

public where($modelName, $column, $operator = null, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a basic where clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$modelName`
|link:http://php.net/string[string^]
a|

a|`$column`
|
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#orwhere]
----

public orWhere($modelName, $column, $operator = null, $value = null):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;or where&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$modelName`
|link:http://php.net/string[string^]
a|

a|`$column`
|
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|
a|
|===


[source%nowrap, php]
[#wherenull]
----

public whereNull($modelName, $column, $boolean = &quot;and&quot;, $not = false):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where null&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$modelName`
|link:http://php.net/string[string^]
a|

a|`$column`
|
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|

a|`$not`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#orwherenull]
----

public orWhereNull($modelName, $column):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;or where null&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$modelName`
|link:http://php.net/string[string^]
a|

a|`$column`
|
a|
|===



[[plugin_contracts_migrate]]
==== Migrate

Migrate models



===== Namespace

`Plenty\Modules\Plugin\DataBase\Contracts`






===== Methods

[source%nowrap, php]
[#createtable]
----

public createTable($modelClassName):bool

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$modelClassName`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#updatetable]
----

public updateTable($modelClassName):bool

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$modelClassName`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#deletetable]
----

public deleteTable($modelClassName):bool

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$modelClassName`
|link:http://php.net/string[string^]
a|
|===



[[plugin_contracts_model]]
==== Model

Database model



===== Namespace

`Plenty\Modules\Plugin\DataBase\Contracts`





.Properties
[cols="3,1,6"]
|===
|Name |Type |Description

|primaryKeyFieldName
    |
    a|
|primaryKeyFieldType
    |
    a|
|autoIncrementPrimaryKey
    |
    a|
|textFields
    |
    a|
|attributes
    |
    a|
|original
    |
    a|
|changes
    |
    a|
|casts
    |
    a|
|dates
    |
    a|
|dateFormat
    |
    a|
|mutatorCache
    |
    a|
|===


===== Methods

[source%nowrap, php]
[#gettablename]
----

public getTableName():string

----









[source%nowrap, php]
[#attributestoarray]
----

public attributesToArray():array

----







Convert the model&#039;s attributes to an array.

[source%nowrap, php]
[#getattribute]
----

public getAttribute($key):void

----







Get an attribute from the model.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$key`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#getattributevalue]
----

public getAttributeValue($key):void

----







Get a plain attribute

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$key`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#getattributefromarray]
----

public getAttributeFromArray($key):void

----







Get an attribute from the $attributes array.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$key`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#hasgetmutator]
----

public hasGetMutator($key):bool

----







Determine if a get mutator exists for an attribute.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$key`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#mutateattribute]
----

public mutateAttribute($key, $value):void

----







Get the value of an attribute using its mutator.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$key`
|link:http://php.net/string[string^]
a|

a|`$value`
|
a|
|===


[source%nowrap, php]
[#mutateattributeforarray]
----

public mutateAttributeForArray($key, $value):void

----







Get the value of an attribute using its mutator for array conversion.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$key`
|link:http://php.net/string[string^]
a|

a|`$value`
|
a|
|===


[source%nowrap, php]
[#setattribute]
----

public setAttribute($key, $value):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Set a given attribute on the model.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$key`
|link:http://php.net/string[string^]
a|

a|`$value`
|
a|
|===


[source%nowrap, php]
[#hassetmutator]
----

public hasSetMutator($key):bool

----







Determine if a set mutator exists for an attribute.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$key`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#filljsonattribute]
----

public fillJsonAttribute($key, $value):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Set a given JSON attribute on the model.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$key`
|link:http://php.net/string[string^]
a|

a|`$value`
|
a|
|===


[source%nowrap, php]
[#fromjson]
----

public fromJson($value, $asObject = false):void

----







Decode the given JSON back into an array or object.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$value`
|link:http://php.net/string[string^]
a|

a|`$asObject`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#fromdatetime]
----

public fromDateTime($value):string

----







Convert a DateTime to a storable string.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$value`
|
a|
|===


[source%nowrap, php]
[#getdates]
----

public getDates():array

----







Get the attributes that should be converted to dates.

[source%nowrap, php]
[#setdateformat]
----

public setDateFormat($format):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Set the date format used by the model.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$format`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#hascast]
----

public hasCast($key, $types = null):bool

----







Determine whether an attribute should be cast to a native type.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$key`
|link:http://php.net/string[string^]
a|

a|`$types`
|
a|
|===


[source%nowrap, php]
[#getcasts]
----

public getCasts():array

----







Get the casts array.

[source%nowrap, php]
[#getattributes]
----

public getAttributes():array

----







Get all of the current attributes on the model.

[source%nowrap, php]
[#setrawattributes]
----

public setRawAttributes($attributes, $sync = false):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Set the array of model attributes. No checking is done.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$attributes`
|link:http://php.net/array[array^]
a|

a|`$sync`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#getoriginal]
----

public getOriginal($key = null, $default = null):void

----







Get the model&#039;s original attribute values.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$key`
|link:http://php.net/string[string^]
a|

a|`$default`
|
a|
|===


[source%nowrap, php]
[#only]
----

public only($attributes):array

----







Get a subset of the model&#039;s attributes.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$attributes`
|
a|
|===


[source%nowrap, php]
[#syncoriginal]
----

public syncOriginal():Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Sync the original attributes with the current.

[source%nowrap, php]
[#syncoriginalattribute]
----

public syncOriginalAttribute($attribute):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Sync a single original attribute with its current value.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$attribute`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#syncchanges]
----

public syncChanges():Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Sync the changed attributes.

[source%nowrap, php]
[#isdirty]
----

public isDirty($attributes = null):bool

----







Determine if the model or given attribute(s) have been modified.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$attributes`
|
a|
|===


[source%nowrap, php]
[#isclean]
----

public isClean($attributes = null):bool

----







Determine if the model or given attribute(s) have remained the same.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$attributes`
|
a|
|===


[source%nowrap, php]
[#waschanged]
----

public wasChanged($attributes = null):bool

----







Determine if the model or given attribute(s) have been modified.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$attributes`
|
a|
|===


[source%nowrap, php]
[#getdirty]
----

public getDirty():array

----







Get the attributes that have been changed since last sync.

[source%nowrap, php]
[#getchanges]
----

public getChanges():array

----







Get the attributes that were changed.

[source%nowrap, php]
[#getmutatedattributes]
----

public getMutatedAttributes():array

----







Get the mutated attributes for a given instance.

[source%nowrap, php]
[#cachemutatedattributes]
----

public static cacheMutatedAttributes($class):void

----







Extract and cache all the mutated attributes of a class.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$class`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#relationloaded]
----

public relationLoaded():void

----










[[plugin_contracts_query]]
==== Query

database query



===== Namespace

`Plenty\Modules\Plugin\DataBase\Contracts`






===== Methods

[source%nowrap, php]
[#select]
----

public select($columns = []):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a basic select clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$columns`
|link:http://php.net/array[array^]
a|
|===


[source%nowrap, php]
[#where]
----

public where($fieldName, $operator = null, $value = null):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a basic where clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|
a|
|===


[source%nowrap, php]
[#wherein]
----

public whereIn($fieldName, $values, $boolean = &quot;and&quot;, $not = false):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where in&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$values`
|link:http://php.net/array[array^]
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|

a|`$not`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#orwherein]
----

public orWhereIn($fieldName, $values):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;or where in&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$values`
|link:http://php.net/array[array^]
a|
|===


[source%nowrap, php]
[#orwhere]
----

public orWhere($fieldName, $operator = null, $value = null):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;or where&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|
a|
|===


[source%nowrap, php]
[#wherenull]
----

public whereNull($fieldName, $boolean = &quot;and&quot;, $not = false):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where null&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|

a|`$not`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#orwherenull]
----

public orWhereNull($fieldName):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;or where null&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#wherebetween]
----

public whereBetween($column, $values, $boolean = &quot;and&quot;, $not = false):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a where between statement to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$column`
|link:http://php.net/string[string^]
a|

a|`$values`
|link:http://php.net/array[array^]
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|

a|`$not`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#wherenotbetween]
----

public whereNotBetween($column, $values, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a where not between statement to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$column`
|link:http://php.net/string[string^]
a|

a|`$values`
|link:http://php.net/array[array^]
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#wheredate]
----

public whereDate($column, $operator, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where date&quot; statement to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$column`
|link:http://php.net/string[string^]
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#wheremonth]
----

public whereMonth($column, $operator, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where month&quot; statement to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$column`
|link:http://php.net/string[string^]
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#whereday]
----

public whereDay($column, $operator, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where day&quot; statement to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$column`
|link:http://php.net/string[string^]
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#whereyear]
----

public whereYear($column, $operator, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where year&quot; statement to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$column`
|link:http://php.net/string[string^]
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#wheretime]
----

public whereTime($column, $operator, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where time&quot; statement to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$column`
|link:http://php.net/string[string^]
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|link:http://php.net/int[int^]
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#groupby]
----

public groupBy($groups):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;group by&quot; statement to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$groups`
|
a|
|===


[source%nowrap, php]
[#having]
----

public having($fieldName, $operator = null, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;having&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|link:http://php.net/string[string^]
a|

a|`$boolean`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#orhaving]
----

public orHaving($fieldName, $operator = null, $value = null):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;or having&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$operator`
|link:http://php.net/string[string^]
a|

a|`$value`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#orderby]
----

public orderBy($fieldName, $direction = &quot;asc&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;order by&quot; clause to the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$fieldName`
|link:http://php.net/string[string^]
a|

a|`$direction`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#forpage]
----

public forPage($page, $perPage = 15):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Set the limit and offset for a given page.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$page`
|link:http://php.net/int[int^]
a|

a|`$perPage`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#count]
----

public count($columns = &quot;*&quot;):int

----







Retrieve the &quot;count&quot; result of the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$columns`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#limit]
----

public limit($value):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Set the &quot;limit&quot; value of the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$value`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#offset]
----

public offset($value):Plenty\Modules\Plugin\DataBase\Contracts

----




====== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Set the &quot;offset&quot; value of the query.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$value`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#getcountforpagination]
----

public getCountForPagination($columns = []):int

----







Get the count of the total records for the paginator.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$columns`
|link:http://php.net/array[array^]
a|
|===


[source%nowrap, php]
[#get]
----

public get():array

----









[source%nowrap, php]
[#delete]
----

public delete():bool

----









[[plugin_dynamodb]]
== DynamoDb

[[plugin_dynamodb_contracts]]
===  Contracts
[[plugin_contracts_dynamodbrepositorycontract]]
==== DynamoDbRepositoryContract

AWS DynamoDb Repository (Deprecated)

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====


===== Namespace

`Plenty\Modules\Plugin\DynamoDb\Contracts`






===== Methods

[source%nowrap, php]
[#createtable]
----

public createTable($pluginName, $tableName, $attributeDefinitions, $keySchema, $readCapacityUnits = 3, $writeCapacityUnits = 2):bool

----

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====






Create a table

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|name of your plugin

a|`$tableName`
|link:http://php.net/string[string^]
a|

a|`$attributeDefinitions`
|link:http://php.net/array[array^]
a|http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_AttributeValue.html

a|`$keySchema`
|link:http://php.net/array[array^]
a|

a|`$readCapacityUnits`
|link:http://php.net/int[int^]
a|

a|`$writeCapacityUnits`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#updatetable]
----

public updateTable($pluginName, $tableName, $readCapacityUnits = 3, $writeCapacityUnits = 2):bool

----

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====






Update a table

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|name of your plugin

a|`$tableName`
|link:http://php.net/string[string^]
a|

a|`$readCapacityUnits`
|link:http://php.net/int[int^]
a|

a|`$writeCapacityUnits`
|link:http://php.net/int[int^]
a|
|===


[source%nowrap, php]
[#putitem]
----

public putItem($pluginName, $tableName, $item):bool

----

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====






Add item to table

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|name of your plugin

a|`$tableName`
|link:http://php.net/string[string^]
a|

a|`$item`
|link:http://php.net/array[array^]
a|
|===


[source%nowrap, php]
[#getitem]
----

public getItem($pluginName, $tableName, $consistentRead, $key):array

----

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====






Retrieving items

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|name of your plugin

a|`$tableName`
|link:http://php.net/string[string^]
a|

a|`$consistentRead`
|link:http://php.net/bool[bool^]
a|

a|`$key`
|link:http://php.net/array[array^]
a|
|===


[source%nowrap, php]
[#deleteitem]
----

public deleteItem($pluginName, $tableName, $key):bool

----

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====






Delete an item

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|name of your plugin

a|`$tableName`
|link:http://php.net/string[string^]
a|

a|`$key`
|link:http://php.net/array[array^]
a|
|===


[source%nowrap, php]
[#deletetable]
----

public deleteTable($pluginName, $tableName):bool

----

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====






Deleting a table

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|name of your plugin

a|`$tableName`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#scan]
----

public scan($pluginName, $tableName, $returnFields = &quot;&quot;, $expressionAttributeValues = [], $filterExpression = &quot;&quot;, $limit):void

----

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====






A scan operation scans the entire table. You can specify filters to apply to the results to refine the values returned to you, after the complete scan. Amazon DynamoDB puts a 1MB limit on the scan (the limit applies before the results are filtered).

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|name of your plugin

a|`$tableName`
|link:http://php.net/string[string^]
a|

a|`$returnFields`
|link:http://php.net/string[string^]
a|

a|`$expressionAttributeValues`
|link:http://php.net/array[array^]
a|

a|`$filterExpression`
|link:http://php.net/string[string^]
a|

a|`$limit`
|link:http://php.net/int[int^]
a|is taken into account when value greater than 0
|===


[[plugin_libs]]
== Libs

[[plugin_libs_contracts]]
===  Contracts
[[plugin_contracts_librarycallcontract]]
==== LibraryCallContract

library call



===== Namespace

`Plenty\Modules\Plugin\Libs\Contracts`






===== Methods

[source%nowrap, php]
[#call]
----

public call($libCall, $params = []):array

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$libCall`
|link:http://php.net/string[string^]
a|

a|`$params`
|link:http://php.net/array[array^]
a|
|===


[[plugin_pluginset]]
== PluginSet

[[plugin_pluginset_contracts]]
===  Contracts
[[plugin_contracts_pluginsetentryrepositorycontract]]
==== PluginSetEntryRepositoryContract

get, create, update or delete plugin set entries



===== Namespace

`Plenty\Modules\Plugin\PluginSet\Contracts`






===== Methods

[source%nowrap, php]
[#get]
----

public get($idOrInstance):Plenty\Modules\Plugin\PluginSet\Models\PluginSetEntry

----




====== *Return type:*        xref:Plugin.adoc#plugin_models_pluginsetentry[`PluginSetEntry`]


Get a PluginSetEntry.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$idOrInstance`
|
a|The Id of the PluginSetEntry to retrieve or the PluginSetEntry object itself.
|===


[source%nowrap, php]
[#create]
----

public create($data):Plenty\Modules\Plugin\PluginSet\Models\PluginSetEntry

----




====== *Return type:*        xref:Plugin.adoc#plugin_models_pluginsetentry[`PluginSetEntry`]


Create a set entry.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$data`
|link:http://php.net/array[array^]
a|Must contain a 'pluginId' field and a 'pluginSetId' field to specify which plugin should be associated with which plugin set in the
newly created set entry: ['pluginId' => 5, 'pluginSetId' => 3]
|===


[source%nowrap, php]
[#copytopluginset]
----

public copyToPluginSet($pluginSetEntryOrId, $pluginSetOrId, $copyConfigurations):Plenty\Modules\Plugin\PluginSet\Models\PluginSetEntry

----




====== *Return type:*        xref:Plugin.adoc#plugin_models_pluginsetentry[`PluginSetEntry`]


Copy a PluginSetEntry to a PluginSet

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginSetEntryOrId`
|
a|The id of the PluginSetEntry that should be copied, or the PluginSetEntry object itself

a|`$pluginSetOrId`
|
a|The id of the PluginSet the entry should be copied to, or the PluginSet object itself

a|`$copyConfigurations`
|link:http://php.net/bool[bool^]
a|true if the configurations related to the set entry should also be copied, false if not
|===


[source%nowrap, php]
[#update]
----

public update($id, $data):bool

----







Update a PluginSetEntry. Associate a set entry with a new set, a new plugin, or both.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$id`
|link:http://php.net/int[int^]
a|The id of the set entry to update

a|`$data`
|link:http://php.net/array[array^]
a|Must contain EITHER a 'pluginId' field OR a 'pluginSetId' field OR both.
|===


[source%nowrap, php]
[#delete]
----

public delete($what):int

----







Delete a PluginSetEntry

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$what`
|
a|The PluginSetEntry object to delete or a PluginSetEntry-Id
|===



[[plugin_contracts_pluginsetrepositorycontract]]
==== PluginSetRepositoryContract

list, create, update or delete plugin sets



===== Namespace

`Plenty\Modules\Plugin\PluginSet\Contracts`






===== Methods

[source%nowrap, php]
[#count]
----

public count():int

----







Count current plugin sets.

[source%nowrap, php]
[#create]
----

public create($data):Plenty\Modules\Plugin\PluginSet\Models\PluginSet

----




====== *Return type:*        xref:Plugin.adoc#plugin_models_pluginset[`PluginSet`]


Create a plugin set. The data array has to contain a &#039;name&#039; field. Throws a &#039;TooManyPluginSetsException&#039; if the maximum number of sets is exceeded.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$data`
|link:http://php.net/array[array^]
a|The data for the newly created plugin set. Only the 'name' field is required: ['name' => 'MyNewPluginSet'].
|===


[source%nowrap, php]
[#copy]
----

public copy($data):Plenty\Modules\Plugin\PluginSet\Models\PluginSet

----




====== *Return type:*        xref:Plugin.adoc#plugin_models_pluginset[`PluginSet`]


Copy a plugin set. All set entries from the source set will be copied into the new set.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$data`
|link:http://php.net/array[array^]
a|Has to contain the Id of the plugin set to copy from and the name for the new set: ['copyPluginSetId' => 12, 'name' =>
'NewSetWithCopiedEntries'].
|===


[source%nowrap, php]
[#update]
----

public update($id, $data):Plenty\Modules\Plugin\PluginSet\Models\PluginSet

----




====== *Return type:*        xref:Plugin.adoc#plugin_models_pluginset[`PluginSet`]


Update a set. Only the &#039;name&#039; field can be updated.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$id`
|link:http://php.net/int[int^]
a|Id of the plugin set to update

a|`$data`
|link:http://php.net/array[array^]
a|Update data must only contain a 'name' field: ['name' => 'NewNameForMySet']
|===


[source%nowrap, php]
[#delete]
----

public delete($what):int

----







Delete a set.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$what`
|
a|The PluginSet object to delete or a PluginSet-Id
|===


[source%nowrap, php]
[#get]
----

public get($pluginSetOrId):Plenty\Modules\Plugin\PluginSet\Models\PluginSet

----




====== *Return type:*        xref:Plugin.adoc#plugin_models_pluginset[`PluginSet`]


Get a plugin set.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginSetOrId`
|
a|The Id of the plugin set to retrieve from the database. If a PluginSet object is passed instead of an integer, the
object is returned without change.
|===


[source%nowrap, php]
[#list]
----

public list():void

----







List all plugin sets.

[source%nowrap, php]
[#listsetentries]
----

public listSetEntries($id):void

----







List all set entries of a plugin set.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$id`
|link:http://php.net/int[int^]
a|The Id of the plugin set to list the entries from.
|===


[source%nowrap, php]
[#listwebstores]
----

public listWebstores($id):void

----







List all webstores a plugin set is related to.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$id`
|link:http://php.net/int[int^]
a|The Id of the set in question
|===


[source%nowrap, php]
[#listlayoutcontainers]
----

public listLayoutContainers($id):void

----







List all LayoutContainers for a plugin set.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$id`
|link:http://php.net/int[int^]
a|The Id of the plugin set in question
|===


[source%nowrap, php]
[#getorcreatepluginsetentry]
----

public getOrCreatePluginSetEntry($id, $pluginId, $withTrashed = false, $resetCache = true):Plenty\Modules\Plugin\PluginSet\Models\PluginSetEntry

----




====== *Return type:*        xref:Plugin.adoc#plugin_models_pluginsetentry[`PluginSetEntry`]


Get the PluginSetEntry object containing a specific plugin for a set. If a PluginSetEntry does not exist, it will be created.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$id`
|link:http://php.net/int[int^]
a|The Id of the plugin set in question

a|`$pluginId`
|link:http://php.net/int[int^]
a|The Id of the plugin in question

a|`$withTrashed`
|link:http://php.net/bool[bool^]
a|If true, deleted PluginSetEntries will be included. Default is false.

a|`$resetCache`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#changepluginactivestatusforset]
----

public changePluginActiveStatusForSet($pluginSetId, $pluginId, $active):Plenty\Modules\Plugin\Models\Plugin

----




====== *Return type:*        xref:Plugin.adoc#plugin_models_plugin[`Plugin`]


Activates / deactivates a plugin for a set by trashing or restoring the respective set entry.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginSetId`
|link:http://php.net/int[int^]
a|The id of the plugin set in question

a|`$pluginId`
|link:http://php.net/int[int^]
a|The id of the plugin in question

a|`$active`
|link:http://php.net/bool[bool^]
a|true if the plugin should be activated for the set, false if it should be deactivated.
|===


[source%nowrap, php]
[#removepluginfromset]
----

public removePluginFromSet($setId, $pluginId):Plenty\Modules\Plugin\Models\Plugin

----




====== *Return type:*        xref:Plugin.adoc#plugin_models_plugin[`Plugin`]


Remove a plugin from a set.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$setId`
|link:http://php.net/int[int^]
a|The Id of the plugin set in question

a|`$pluginId`
|link:http://php.net/int[int^]
a|The Id of the plugin that should be removed from the set.
|===


[source%nowrap, php]
[#createpreviewhash]
----

public createPreviewHash($setId):string

----







Create a preview hash for a plugin set.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$setId`
|link:http://php.net/int[int^]
a|The plugin set in question
|===


[source%nowrap, php]
[#getpreviewpluginsetid]
----

public getPreviewPluginSetId($previewHash):void

----







Extract a plugin set id from a preview hash.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$previewHash`
|link:http://php.net/string[string^]
a|The preview has to extract the plugin set id from
|===


[source%nowrap, php]
[#installgitplugin]
----

public installGitPlugin($setId, $pluginId, $requestData):bool

----







Install a git-plugin into a set.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$setId`
|link:http://php.net/int[int^]
a|The Id of the plugin set to install the plugin into

a|`$pluginId`
|link:http://php.net/int[int^]
a|The Id of the (git-) plugin that should be installed into the set

a|`$requestData`
|link:http://php.net/array[array^]
a|Must contain a 'branch' field that specifies the branch that should be installed: ['branch' => 'stable']
|===


[source%nowrap, php]
[#setposition]
----

public setPosition($setId, $pluginId, $requestData):void

----







Change the position of a plugin in a set

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$setId`
|link:http://php.net/int[int^]
a|The id of the plugin set in question

a|`$pluginId`
|link:http://php.net/int[int^]
a|The id of the plugin of which the position should be changed

a|`$requestData`
|link:http://php.net/array[array^]
a|Must contain a 'position' field with an integer specifying the new position: ['position' => 99]
|===


[source%nowrap, php]
[#getsyncstate]
----

public getSyncState($pluginSetId):bool

----







Get the sync state, to determine if Plugins have been (de-)activated since last build.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginSetId`
|link:http://php.net/int[int^]
a|The id of the PluginSet
|===


[source%nowrap, php]
[#getpluginsethash]
----

public getPluginSetHash($pluginSetOrId):string

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginSetOrId`
|
a|
|===


[source%nowrap, php]
[#getpluginsetidfromhash]
----

public getPluginSetIdFromHash($pluginSetHash):int

----









.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginSetHash`
|link:http://php.net/string[string^]
a|
|===


[source%nowrap, php]
[#getcurrentpluginsetid]
----

public getCurrentPluginSetId():int

----







Get the PluginSetID of the currently running plugin.

[[plugin_pluginset_models]]
===  Models
[[plugin_models_pluginset]]
==== PluginSet

Eloquent model representing a PluginSet.



===== Namespace

`Plenty\Modules\Plugin\PluginSet\Models`





.Properties
[cols="3,1,6"]
|===
|Name |Type |Description

|id
    |link:http://php.net/int[int^]
    a|
|hash
    |link:http://php.net/string[string^]
    a|
|parentPluginSetId
    |link:http://php.net/int[int^]
    a|
|parentPluginSet
    |        xref:Plugin.adoc#plugin_models_pluginset[`PluginSet`]
    a|
|name
    |link:http://php.net/string[string^]
    a|
|pluginSetEntries
    |
    a|
|pluginSetEntriesWithTrashed
    |
    a|
|layoutContainers
    |
    a|
|webstores
    |
    a|
|===


===== Methods

[source%nowrap, php]
[#toarray]
----

public toArray()

----







Returns this model as an array.


[[plugin_models_pluginsetentry]]
==== PluginSetEntry

Eloquent model representing a PluginSetEntry.



===== Namespace

`Plenty\Modules\Plugin\PluginSet\Models`





.Properties
[cols="3,1,6"]
|===
|Name |Type |Description

|id
    |link:http://php.net/int[int^]
    a|
|pluginId
    |link:http://php.net/int[int^]
    a|
|pluginSetId
    |link:http://php.net/int[int^]
    a|
|plugin
    |        xref:Plugin.adoc#plugin_models_plugin[`Plugin`]
    a|
|branchName
    |link:http://php.net/string[string^]
    a|
|commit
    |link:http://php.net/string[string^]
    a|
|position
    |link:http://php.net/int[int^]
    a|
|===


===== Methods

[source%nowrap, php]
[#toarray]
----

public toArray()

----







Returns this model as an array.

[[plugin_storage]]
== Storage

[[plugin_storage_contracts]]
===  Contracts
[[plugin_contracts_storagerepositorycontract]]
==== StorageRepositoryContract

Storage Repository



===== Namespace

`Plenty\Modules\Plugin\Storage\Contracts`






===== Methods

[source%nowrap, php]
[#uploadobject]
----

public uploadObject($pluginName, $key, $body, $publicVisible = false, $metaData = []):Plenty\Modules\Cloud\Storage\Models\StorageObject

----




====== *Return type:*        xref:Cloud.adoc#cloud_models_storageobject[`StorageObject`]


Create an object with content in $body

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|name of your plugin

a|`$key`
|link:http://php.net/string[string^]
a|e.g. myDir/x/y/z/HelloWorld.txt

a|`$body`
|link:http://php.net/string[string^]
a|file content

a|`$publicVisible`
|link:http://php.net/bool[bool^]
a|

a|`$metaData`
|link:http://php.net/array[array^]
a|
|===


[source%nowrap, php]
[#getobject]
----

public getObject($pluginName, $key, $publicVisible = false):Plenty\Modules\Cloud\Storage\Models\StorageObject

----




====== *Return type:*        xref:Cloud.adoc#cloud_models_storageobject[`StorageObject`]


Get an object

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|name of your plugin

a|`$key`
|link:http://php.net/string[string^]
a|e.g. myDir/x/y/z/HelloWorld.txt

a|`$publicVisible`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#getobjecturl]
----

public getObjectUrl($pluginName, $key, $publicVisible = false, $minutesToExpire = 5):string

----







Returns the URL to an object identified by its bucket and key. The URL will be signed and set to expire at the provided time.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|name of your plugin

a|`$key`
|link:http://php.net/string[string^]
a|e.g. myDir/x/y/z/HelloWorld.txt

a|`$publicVisible`
|link:http://php.net/bool[bool^]
a|

a|`$minutesToExpire`
|link:http://php.net/int[int^]
a|Minutes between 1 and 15
|===


[source%nowrap, php]
[#getobjectastemporaryfileresource]
----

public getObjectAsTemporaryFileResource($pluginName, $key, $publicVisible = false):string

----







Get local file resource of an object. Use this if it is really necessary! Using getObject is the normal and effective way.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|name of your plugin

a|`$key`
|link:http://php.net/string[string^]
a|e.g. myDir/x/y/z/HelloWorld.txt

a|`$publicVisible`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#doesobjectexist]
----

public doesObjectExist($pluginName, $key, $publicVisible = false):bool

----







Checks if object exists

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|name of your plugin

a|`$key`
|link:http://php.net/string[string^]
a|e.g. myDir/x/y/z/HelloWorld.txt

a|`$publicVisible`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#deleteobject]
----

public deleteObject($pluginName, $key, $publicVisible = false):bool

----







Executes the DeleteObject operation.

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|name of your plugin

a|`$key`
|link:http://php.net/string[string^]
a|myDir/HelloWorld.txt

a|`$publicVisible`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#listobjects]
----

public listObjects($pluginName, $prefix = &quot;&quot;, $limit, $startKey = &quot;&quot;, $continuationToken = &quot;&quot;, $publicVisible = false, $resultKeyWithoutPrefix = true):Plenty\Modules\Cloud\Storage\Models\StorageObjectList

----




====== *Return type:*        xref:Cloud.adoc#cloud_models_storageobjectlist[`StorageObjectList`]


Returns some or all (up to 1000) objects

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginName`
|link:http://php.net/string[string^]
a|name of your plugin

a|`$prefix`
|link:http://php.net/string[string^]
a|Limits the response to keys that begin with the specified prefix.

a|`$limit`
|link:http://php.net/int[int^]
a|The total number of items to return.

a|`$startKey`
|link:http://php.net/string[string^]
a|is where you want to start listing from. $startKey can be any key in the bucket.

a|`$continuationToken`
|link:http://php.net/string[string^]
a|indicates that the list is being continued on this bucket with a token.

a|`$publicVisible`
|link:http://php.net/bool[bool^]
a|

a|`$resultKeyWithoutPrefix`
|link:http://php.net/bool[bool^]
a|
|===


[source%nowrap, php]
[#getpluginzip]
----

public getPluginZip($pluginSetId, $pluginName):void

----







Get all objects of a plugin as zip file

.*Parameters*
[cols="3,1,6"]
|===
|Name |Type |Description
a|`$pluginSetId`
|link:http://php.net/int[int^]
a|

a|`$pluginName`
|link:http://php.net/string[string^]
a|
|===


[[plugin_versioncontrol]]
== VersionControl

[[plugin_versioncontrol_models]]
===  Models
[[plugin_models_git]]
==== Git

Model holding plugin data concerning Git version control.



===== Namespace

`Plenty\Modules\Plugin\VersionControl\Models`





.Properties
[cols="3,1,6"]
|===
|Name |Type |Description

|id
    |link:http://php.net/int[int^]
    a|git id
|pluginId
    |link:http://php.net/int[int^]
    a|plugin id
|username
    |link:http://php.net/string[string^]
    a|username for remote account
|password
    |link:http://php.net/string[string^]
    a|password for remote account
|remoteUrl
    |link:http://php.net/string[string^]
    a|url for remote repository
|branch
    |link:http://php.net/string[string^]
    a|actual selected branch
|autoFetch
    |link:http://php.net/bool[bool^]
    a|automatically fetch from remote repository
|webhookToken
    |link:http://php.net/string[string^]
    a|token needed for development
|createdAt
    |link:http://php.net/string[string^]
    a|created timestamp
|updatedAt
    |link:http://php.net/string[string^]
    a|last update timestamp
|plugin
    |        xref:Plugin.adoc#plugin_models_plugin[`Plugin`]
    a|
|===


===== Methods

[source%nowrap, php]
[#toarray]
----

public toArray()

----







Returns this model as an array.

