:table-caption!:
:example-caption!:
:source-highlighter: prettify
:sectids!:
[[plugin_plugin]]
= Plugin

[[plugin_plugin_contracts]]
== Contracts
[[plugin_contracts_configurationrepositorycontract]]
=== ConfigurationRepositoryContract

Save config values for plugins



==== Namespace

`Plenty\Modules\Plugin\Contracts`






==== Methods

[source%nowrap, php]
----

public saveConfiguration($pluginId, $configMap, $setId = null, $resetCache = true):array

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$pluginId`
a|

|link:http://php.net/array[array^]
a|`$configMap`
a|

|link:http://php.net/int[int^]
a|`$setId`
a|

|link:http://php.net/bool[bool^]
a|`$resetCache`
a|
|===


[source%nowrap, php]
----

public copyToPluginSetEntry($configurationOrId, $pluginSetEntryOrId):int

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$configurationOrId`
a|

|
a|`$pluginSetEntryOrId`
a|
|===


[source%nowrap, php]
----

public getConfigurationFile($pluginId, $setId):string

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$pluginId`
a|

|link:http://php.net/int[int^]
a|`$setId`
a|
|===


[source%nowrap, php]
----

public export($setId, $pluginId = null, $active = null):array

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$setId`
a|

|link:http://php.net/int[int^]
a|`$pluginId`
a|

|link:http://php.net/bool[bool^]
a|`$active`
a|
|===


[source%nowrap, php]
----

public import($setId, $data, $pluginId = null):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$setId`
a|

|link:http://php.net/array[array^]
a|`$data`
a|

|link:http://php.net/int[int^]
a|`$pluginId`
a|
|===



[[plugin_contracts_pluginlayoutcontainerrepositorycontract]]
=== PluginLayoutContainerRepositoryContract

Plugin layout container



==== Namespace

`Plenty\Modules\Plugin\Contracts`






==== Methods

[source%nowrap, php]
----

public all($pluginSetId):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$pluginSetId`
a|
|===


[source%nowrap, php]
----

public updateAll($dataList, $pluginSetId, $pluginId = null):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$dataList`
a|

|link:http://php.net/int[int^]
a|`$pluginSetId`
a|

|link:http://php.net/int[int^]
a|`$pluginId`
a|
|===


[source%nowrap, php]
----

public getActiveLinkedLayoutContainers($activeContainerKeysList, $activeDataProviderKeysList, $pluginSetId = null):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$activeContainerKeysList`
a|

|link:http://php.net/array[array^]
a|`$activeDataProviderKeysList`
a|

|link:http://php.net/int[int^]
a|`$pluginSetId`
a|
|===


[source%nowrap, php]
----

public getActiveLinkedLayoutContainersByPluginSetId($activeContainerKeysList, $activeDataProviderKeysList, $pluginSetId):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$activeContainerKeysList`
a|

|link:http://php.net/array[array^]
a|`$activeDataProviderKeysList`
a|

|link:http://php.net/int[int^]
a|`$pluginSetId`
a|
|===


[source%nowrap, php]
----

public addNew($dataList, $pluginSetId):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$dataList`
a|

|link:http://php.net/int[int^]
a|`$pluginSetId`
a|
|===


[source%nowrap, php]
----

public addOne($pluginSetId, $containerKey, $dataProviderKey, $containerPluginId = null, $dataProviderPluginId = null):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$pluginSetId`
a|

|link:http://php.net/string[string^]
a|`$containerKey`
a|

|link:http://php.net/string[string^]
a|`$dataProviderKey`
a|

|link:http://php.net/int[int^]
a|`$containerPluginId`
a|

|link:http://php.net/int[int^]
a|`$dataProviderPluginId`
a|
|===


[source%nowrap, php]
----

public removeOne($pluginSetId, $containerKey, $dataProviderKey, $containerPluginId = null, $dataProviderPluginId = null):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$pluginSetId`
a|

|link:http://php.net/string[string^]
a|`$containerKey`
a|

|link:http://php.net/string[string^]
a|`$dataProviderKey`
a|

|link:http://php.net/int[int^]
a|`$containerPluginId`
a|

|link:http://php.net/int[int^]
a|`$dataProviderPluginId`
a|
|===


[source%nowrap, php]
----

public exportByPluginSetId($pluginSetOrId):array

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$pluginSetOrId`
a|
|===


[source%nowrap, php]
----

public importByPluginSetId($pluginSetOrId, $containers):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$pluginSetOrId`
a|

|link:http://php.net/array[array^]
a|`$containers`
a|
|===



[[plugin_contracts_pluginrepositorycontract]]
=== PluginRepositoryContract

Search plugins according to parameters



==== Namespace

`Plenty\Modules\Plugin\Contracts`






==== Methods

[source%nowrap, php]
----

public getPluginByName($name):Plenty\Modules\Plugin\Models\Plugin

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_models_plugin[`Plugin`]




.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$name`
a|
|===


[source%nowrap, php]
----

public searchPlugins($params = [], $itemsPerPage = \Plenty\Modules\Plugin\Models\Plugin::DEFAULT_ITEMS_PER_PAGE):Plenty\Repositories\Models\PaginatedResult

----

    


===== *Return type:*        xref:Miscellaneous.adoc#miscellaneous_models_paginatedresult[`PaginatedResult`]


Search plugins using filters. Example: searchPlugins([&#039;name&#039; =&gt; &#039;PluginIWantToFind&#039;])

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$params`
a|

|link:http://php.net/int[int^]
a|`$itemsPerPage`
a|
|===


[source%nowrap, php]
----

public getPluginSets($pluginId):array

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$pluginId`
a|
|===


[source%nowrap, php]
----

public isActiveInPluginSet($pluginId, $pluginSetIdOrPluginSet):bool

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$pluginId`
a|

|
a|`$pluginSetIdOrPluginSet`
a|
|===


[source%nowrap, php]
----

public isActiveInPluginSetByName($pluginName, $pluginSetId):bool

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|

|link:http://php.net/int[int^]
a|`$pluginSetId`
a|
|===


[source%nowrap, php]
----

public isActiveInWebstore($pluginId, $webstoreId):bool

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$pluginId`
a|

|link:http://php.net/int[int^]
a|`$webstoreId`
a|
|===


[source%nowrap, php]
----

public isActiveInWebstoreByPluginName($pluginName, $webstoreId):bool

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|

|link:http://php.net/int[int^]
a|`$webstoreId`
a|
|===


[source%nowrap, php]
----

public decoratePlugin($plugin, $pluginSetId = null):Plenty\Modules\Plugin\Models\Plugin

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_models_plugin[`Plugin`]




.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|        xref:Plugin.adoc#plugin_models_plugin[`Plugin`]
a|`$plugin`
a|

|link:http://php.net/int[int^]
a|`$pluginSetId`
a|
|===


[source%nowrap, php]
----

public installMarketplacePluginByItemId($marketplacePluginItemId, $pluginSetId = null):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$marketplacePluginItemId`
a|

|link:http://php.net/int[int^]
a|`$pluginSetId`
a|
|===


[[plugin_plugin_events]]
== Events
[[plugin_events_afterbuildplugins]]
=== AfterBuildPlugins

Event after plugin build has finished



==== Namespace

`Plenty\Modules\Plugin\Events`






==== Methods

[source%nowrap, php]
----

public getPluginSet():Plenty\Modules\Plugin\PluginSet\Models\PluginSet

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_models_pluginset[`PluginSet`]


Get the plugin set which have been built

[source%nowrap, php]
----

public sourceHasChanged($pluginName):bool

----

    





Check if php files of a plugin have been changed

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|
|===


[source%nowrap, php]
----

public resourcesHasChanged($pluginName):bool

----

    





Check if resource files of a plugin have been changed

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|
|===



[[plugin_events_loadsitemappattern]]
=== LoadSitemapPattern

LoadSitemapPatternEvent



==== Namespace

`Plenty\Modules\Plugin\Events`






[[plugin_events_pluginsendmail]]
=== PluginSendMail

PluginSendMail



==== Namespace

`Plenty\Modules\Plugin\Events`






==== Methods

[source%nowrap, php]
----

public getTemplate():void

----

    







[source%nowrap, php]
----

public getContactEmail():void

----

    







[source%nowrap, php]
----

public getCallFunction():void

----

    







[[plugin_plugin_models]]
== Models
[[plugin_models_installedplugins]]
=== InstalledPlugins

Model representing an installed Plugin



==== Namespace

`Plenty\Modules\Plugin\Models`





.Properties
[cols="10%,30%,60%"]
|===
|Type |Name |Description

|link:http://php.net/int[int^]
    a|id
    a|The ID of the installed plugin instance
|link:http://php.net/int[int^]
    a|variationId
    a|The variationId of the installed version
|link:http://php.net/int[int^]
    a|itemId
    a|The id of the installed plugin
|link:http://php.net/bool[bool^]
    a|removed
    a|Whether this version of the plugin has been removed by the customer
|link:http://php.net/string[string^]
    a|lastUpdateChecksum
    a|checksum of last installed plugin code
|===


==== Methods

[source%nowrap, php]
----

public toArray()

----

    





Returns this model as an array.


[[plugin_models_plugin]]
=== Plugin

Eloquent model representing a Plugin.



==== Namespace

`Plenty\Modules\Plugin\Models`





.Properties
[cols="10%,30%,60%"]
|===
|Type |Name |Description

|link:http://php.net/int[int^]
    a|id
    a|The ID of the plugin
|link:http://php.net/string[string^]
    a|name
    a|The name of the plugin
|link:http://php.net/int[int^]
    a|position
    a|The position of the plugin. The position is used to determine the plugin
order.
|link:http://php.net/bool[bool^]
    a|activeStage
    a|Shows whether the plugin is active in Stage. Inactive plugins will not
be provisioned in Stage.
|link:http://php.net/bool[bool^]
    a|activeProductive
    a|Shows whether the plugin is active in Productive. Inactive plugins will
not be provisioned in Productive.
|link:http://php.net/string[string^]
    a|created_at
    a|The date that the plugin was created.
|link:http://php.net/string[string^]
    a|updated_at
    a|The date that the plugin was updated last.
|link:http://php.net/bool[bool^]
    a|inStage
    a|Shows whether the plugin is provisioned in Stage.
|link:http://php.net/bool[bool^]
    a|inProductive
    a|Shows whether the plugin is provisioned in Productive.
|link:http://php.net/bool[bool^]
    a|isConnectedWithGit
    a|
|link:http://php.net/array[array^]
    a|updateInformation
    a|
|link:http://php.net/string[string^]
    a|type
    a|The type of the plugin. The following plugin types are available:
<ul>
    <li>Template</li>
    <li>Export</li>
</ul>
|link:http://php.net/bool[bool^]
    a|installed
    a|Whether or not the plugin is installed. This will be false for plugins
that have been purchased from the marketplace but have not yet been installed in any set.
|link:http://php.net/string[string^]
    a|version
    a|The version of the plugin
|link:http://php.net/string[string^]
    a|versionStage
    a|The version of the plugin in stage
|link:http://php.net/string[string^]
    a|versionProductive
    a|The version of the plugin in productive
|link:http://php.net/array[array^]
    a|marketplaceVariations
    a|A list of available marketplace versions
|link:http://php.net/string[string^]
    a|description
    a|The description text of the plugin
|link:http://php.net/string[string^]
    a|namespace
    a|The namespace of the plugin
|link:http://php.net/array[array^]
    a|dependencies
    a|A list of plugins with dependencies to the plugin
|link:http://php.net/string[string^]
    a|author
    a|The name of the plugin author
|link:http://php.net/float[float^]
    a|price
    a|The price of the plugin
|link:http://php.net/array[array^]
    a|keywords
    a|A list of plugin keywords
|link:http://php.net/array[array^]
    a|require
    a|A list of plugins that are required by the plugin
|link:http://php.net/array[array^]
    a|notInstalledRequirements
    a|A list of required plugins that are not installed
|link:http://php.net/array[array^]
    a|notActiveStageRequirements
    a|A list of required plugins that are not active in stage
|link:http://php.net/array[array^]
    a|notActiveProductiveRequirements
    a|A list of required plugins that are not active in productive
|link:http://php.net/string[string^]
    a|serviceProvider
    a|The class name of the service provider
|link:http://php.net/array[array^]
    a|runOnBuild
    a|The list of classes to execute once on plugin build
|link:http://php.net/array[array^]
    a|checkOnBuild
    a|The list of classes to execute on every plugin build
|link:http://php.net/string[string^]
    a|pluginPath
    a|The plugin path
|link:http://php.net/string[string^]
    a|authorIcon
    a|The author icon
|link:http://php.net/string[string^]
    a|pluginIcon
    a|The plugin icon
|link:http://php.net/string[string^]
    a|license
    a|The plugin license
|link:http://php.net/array[array^]
    a|shortDescription
    a|
|link:http://php.net/bool[bool^]
    a|isClosedSource
    a|is closed source
|link:http://php.net/string[string^]
    a|inboxPath
    a|path in the inbox (closed source, open source)
|link:http://php.net/array[array^]
    a|marketplaceName
    a|The plugin name displayed in marketplace
|link:http://php.net/string[string^]
    a|source
    a|Whether this plugin was installed from marketplace, git or local
|link:http://php.net/array[array^]
    a|javaScriptFiles
    a|A list of included javascript files
|link:http://php.net/array[array^]
    a|containers
    a|A list of provided containers with name and description
|link:http://php.net/array[array^]
    a|dataProviders
    a|A list of data providers with name and description
|link:http://php.net/array[array^]
    a|categories
    a|
|link:http://php.net/string[string^]
    a|webhookUrl
    a|webhookUrl
|link:http://php.net/bool[bool^]
    a|isExternalTool
    a|is external tool
|link:http://php.net/array[array^]
    a|directDownloadLinks
    a|A list of urls for the external tool
|link:http://php.net/string[string^]
    a|forwardLink
    a|A forward link to the external tool developers page
|link:http://php.net/string[string^]
    a|branch
    a|The branch to checkout for this particular Plugin
|link:http://php.net/string[string^]
    a|commit
    a|The commit to checkout for this particular Plugin
|link:http://php.net/array[array^]
    a|subscriptionInformation
    a|A list if subscription informations
|link:http://php.net/bool[bool^]
    a|offerTrial
    a|Determines if the plugin offers a trial period for plentyMarketplace
|link:http://php.net/bool[bool^]
    a|offerFreemium
    a|Determines if the plugin offers freemium functionality
|link:http://php.net/array[array^]
    a|configurations
    a|A list of plugin configuration items
|link:http://php.net/array[array^]
    a|webstores
    a|A list of clients (stores) activated for the plugin
|link:http://php.net/array[array^]
    a|linkedDataProviders
    a|A list of dataProviders linked with a container of this plugin
|link:http://php.net/array[array^]
    a|linkedContainers
    a|A list of containers linked with a data provider of this plugin
|        xref:Plugin.adoc#plugin_models_git[`Git`]
    a|repository
    a|
|        xref:Plugin.adoc#plugin_models_installedplugins[`InstalledPlugins`]
    a|installedPlugins
    a|
|link:http://php.net/array[array^]
    a|pluginSetIds
    a|Array of PluginSet Ids where this plugin is contained.
|link:http://php.net/array[array^]
    a|pluginSetEntries
    a|A list of PluginSetEntries this plugin is linked to
|link:http://php.net/array[array^]
    a|pluginSetEntriesWithTrashed
    a|A list of PluginSetEntries this plugin is linked to, including
trashed
          entries
|===


==== Methods

[source%nowrap, php]
----

public toArray()

----

    





Returns this model as an array.

[[plugin_plugin_services]]
== Services
[[plugin_services_pluginsendmailservice]]
=== PluginSendMailService

The PluginSendMailService send mails in plugins



==== Namespace

`Plenty\Modules\Plugin\Services`






==== Methods

[source%nowrap, php]
----

public static getInstance($webstoreId):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$webstoreId`
a|
|===


[source%nowrap, php]
----

public sendMail($url, $template = &quot;&quot;, $email = &quot;&quot;, $callFunction = &quot;&quot;):bool

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$url`
a|

|link:http://php.net/string[string^]
a|`$template`
a|

|link:http://php.net/string[string^]
a|`$email`
a|

|link:http://php.net/string[string^]
a|`$callFunction`
a|
|===


[source%nowrap, php]
----

public getStatus():bool

----

    







[source%nowrap, php]
----

public setStatus($status):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/bool[bool^]
a|`$status`
a|
|===


[source%nowrap, php]
----

public isInitialized():bool

----

    







[source%nowrap, php]
----

public setInitialized($initialized):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/bool[bool^]
a|`$initialized`
a|
|===


[source%nowrap, php]
----

public getEmailPlaceholder():array

----

    







[source%nowrap, php]
----

public addEmailPlaceholder($placeholder, $value):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$placeholder`
a|

|link:http://php.net/string[string^]
a|`$value`
a|
|===


[source%nowrap, php]
----

public setEmailPlaceholder($emailPlaceholder):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$emailPlaceholder`
a|
|===


[source%nowrap, php]
----

public getEmailPlaceholderKey($key, $default = &quot;&quot;):string

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$key`
a|

|link:http://php.net/string[string^]
a|`$default`
a|
|===



[[plugin_services_pluginseositemapservice]]
=== PluginSeoSitemapService

The PluginSeoSitemapService collect the sitemap patterns.



==== Namespace

`Plenty\Modules\Plugin\Services`






==== Methods

[source%nowrap, php]
----

public loadPatterns($url):bool

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$url`
a|
|===


[source%nowrap, php]
----

public getPatterns():array

----

    







[source%nowrap, php]
----

public setItemPattern($pattern):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$pattern`
a|
|===


[source%nowrap, php]
----

public setBlogPattern($pattern):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$pattern`
a|
|===


[source%nowrap, php]
----

public setContentCategoryPattern($pattern):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$pattern`
a|
|===


[source%nowrap, php]
----

public setItemCategoryPattern($pattern):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$pattern`
a|
|===


[source%nowrap, php]
----

public getItemPattern():string

----

    







[source%nowrap, php]
----

public getBlogPattern():string

----

    







[source%nowrap, php]
----

public getItemCategoryPattern():string

----

    







[source%nowrap, php]
----

public getContentCategoryPattern():string

----

    







[[plugin_database]]
= DataBase

[[plugin_database_annotations]]
== Annotations
[[plugin_annotations_index]]
=== Index





==== Namespace

`Plenty\Modules\Plugin\DataBase\Annotations`






==== Methods

[source%nowrap, php]
----

public toArray()

----

    





Returns this model as an array.


[[plugin_annotations_nontableattribute]]
=== NonTableAttribute





==== Namespace

`Plenty\Modules\Plugin\DataBase\Annotations`






==== Methods

[source%nowrap, php]
----

public toArray()

----

    





Returns this model as an array.


[[plugin_annotations_nullable]]
=== Nullable





==== Namespace

`Plenty\Modules\Plugin\DataBase\Annotations`






==== Methods

[source%nowrap, php]
----

public toArray()

----

    





Returns this model as an array.


[[plugin_annotations_relation]]
=== Relation





==== Namespace

`Plenty\Modules\Plugin\DataBase\Annotations`






==== Methods

[source%nowrap, php]
----

public toArray()

----

    





Returns this model as an array.

[[plugin_database_contracts]]
== Contracts
[[plugin_contracts_criteriaquery]]
=== CriteriaQuery

database query



==== Namespace

`Plenty\Modules\Plugin\DataBase\Contracts`






==== Methods

[source%nowrap, php]
----

public where($fieldName, $operator = null, $value = null):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a basic where clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|
a|`$value`
a|
|===


[source%nowrap, php]
----

public whereIn($fieldName, $values, $boolean = &quot;and&quot;, $not = false):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where in&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/array[array^]
a|`$values`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|

|link:http://php.net/bool[bool^]
a|`$not`
a|
|===


[source%nowrap, php]
----

public orWhereIn($fieldName, $values):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;or where in&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/array[array^]
a|`$values`
a|
|===


[source%nowrap, php]
----

public orWhere($fieldName, $operator = null, $value = null):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;or where&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|
a|`$value`
a|
|===


[source%nowrap, php]
----

public whereNull($fieldName, $boolean = &quot;and&quot;, $not = false):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where null&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|

|link:http://php.net/bool[bool^]
a|`$not`
a|
|===


[source%nowrap, php]
----

public orWhereNull($fieldName):void

----

    





Add an &quot;or where null&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|
|===


[source%nowrap, php]
----

public having($fieldName, $operator = null, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;having&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|link:http://php.net/string[string^]
a|`$value`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|
|===


[source%nowrap, php]
----

public orHaving($fieldName, $operator = null, $value = null):void

----

    





Add a &quot;or having&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|link:http://php.net/string[string^]
a|`$value`
a|
|===


[source%nowrap, php]
----

public whereHas($modelName, $callback = null, $operator = &quot;&gt;=&quot;, $count = 1):void

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$modelName`
a|

|
a|`$callback`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|link:http://php.net/int[int^]
a|`$count`
a|
|===


[source%nowrap, php]
----

public join($firstModelName, $callback, $as = &quot;&quot;):void

----

    





Add a join clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$firstModelName`
a|

|
a|`$callback`
a|

|link:http://php.net/string[string^]
a|`$as`
a|
|===


[source%nowrap, php]
----

public leftJoin($firstModelName, $callback):void

----

    





Add a left join to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$firstModelName`
a|

|
a|`$callback`
a|
|===



[[plugin_contracts_database]]
=== DataBase

Database contract



==== Namespace

`Plenty\Modules\Plugin\DataBase\Contracts`






==== Methods

[source%nowrap, php]
----

public save($model):Plenty\Modules\Plugin\DataBase\Contracts\Model

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_contracts_model[`Model`]




.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|        xref:Plugin.adoc#plugin_contracts_model[`Model`]
a|`$model`
a|
|===


[source%nowrap, php]
----

public find($modelClassName, $primaryKeyFieldValue):Plenty\Modules\Plugin\DataBase\Contracts\Model

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_contracts_model[`Model`]




.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$modelClassName`
a|

|
a|`$primaryKeyFieldValue`
a|
|===


[source%nowrap, php]
----

public query($modelClassName):Plenty\Modules\Plugin\DataBase\Contracts\Query

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_contracts_query[`Query`]




.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$modelClassName`
a|
|===


[source%nowrap, php]
----

public delete($model):bool

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|        xref:Plugin.adoc#plugin_contracts_model[`Model`]
a|`$model`
a|
|===



[[plugin_contracts_joinclausequery]]
=== JoinClauseQuery

database join query



==== Namespace

`Plenty\Modules\Plugin\DataBase\Contracts`






==== Methods

[source%nowrap, php]
----

public on($firstModelName, $first, $operator = null, $secondModelName = null, $second = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]




.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$firstModelName`
a|

|
a|`$first`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|link:http://php.net/string[string^]
a|`$secondModelName`
a|

|link:http://php.net/string[string^]
a|`$second`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|
|===


[source%nowrap, php]
----

public where($modelName, $column, $operator = null, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a basic where clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$modelName`
a|

|
a|`$column`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|
a|`$value`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|
|===


[source%nowrap, php]
----

public orWhere($modelName, $column, $operator = null, $value = null):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;or where&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$modelName`
a|

|
a|`$column`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|
a|`$value`
a|
|===


[source%nowrap, php]
----

public whereNull($modelName, $column, $boolean = &quot;and&quot;, $not = false):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where null&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$modelName`
a|

|
a|`$column`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|

|link:http://php.net/bool[bool^]
a|`$not`
a|
|===


[source%nowrap, php]
----

public orWhereNull($modelName, $column):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;or where null&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$modelName`
a|

|
a|`$column`
a|
|===



[[plugin_contracts_migrate]]
=== Migrate

Migrate models



==== Namespace

`Plenty\Modules\Plugin\DataBase\Contracts`






==== Methods

[source%nowrap, php]
----

public createTable($modelClassName):bool

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$modelClassName`
a|
|===


[source%nowrap, php]
----

public updateTable($modelClassName):bool

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$modelClassName`
a|
|===


[source%nowrap, php]
----

public deleteTable($modelClassName):bool

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$modelClassName`
a|
|===



[[plugin_contracts_model]]
=== Model

Database model



==== Namespace

`Plenty\Modules\Plugin\DataBase\Contracts`





.Properties
[cols="10%,30%,60%"]
|===
|Type |Name |Description

|
    a|primaryKeyFieldName
    a|
|
    a|primaryKeyFieldType
    a|
|
    a|autoIncrementPrimaryKey
    a|
|
    a|textFields
    a|
|
    a|attributes
    a|
|
    a|original
    a|
|
    a|changes
    a|
|
    a|casts
    a|
|
    a|dates
    a|
|
    a|dateFormat
    a|
|
    a|mutatorCache
    a|
|===


==== Methods

[source%nowrap, php]
----

public getTableName():string

----

    







[source%nowrap, php]
----

public attributesToArray():array

----

    





Convert the model&#039;s attributes to an array.

[source%nowrap, php]
----

public getAttribute($key):void

----

    





Get an attribute from the model.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$key`
a|
|===


[source%nowrap, php]
----

public getAttributeValue($key):void

----

    





Get a plain attribute

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$key`
a|
|===


[source%nowrap, php]
----

public getAttributeFromArray($key):void

----

    





Get an attribute from the $attributes array.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$key`
a|
|===


[source%nowrap, php]
----

public hasGetMutator($key):bool

----

    





Determine if a get mutator exists for an attribute.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$key`
a|
|===


[source%nowrap, php]
----

public mutateAttribute($key, $value):void

----

    





Get the value of an attribute using its mutator.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$key`
a|

|
a|`$value`
a|
|===


[source%nowrap, php]
----

public mutateAttributeForArray($key, $value):void

----

    





Get the value of an attribute using its mutator for array conversion.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$key`
a|

|
a|`$value`
a|
|===


[source%nowrap, php]
----

public setAttribute($key, $value):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Set a given attribute on the model.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$key`
a|

|
a|`$value`
a|
|===


[source%nowrap, php]
----

public hasSetMutator($key):bool

----

    





Determine if a set mutator exists for an attribute.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$key`
a|
|===


[source%nowrap, php]
----

public fillJsonAttribute($key, $value):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Set a given JSON attribute on the model.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$key`
a|

|
a|`$value`
a|
|===


[source%nowrap, php]
----

public fromJson($value, $asObject = false):void

----

    





Decode the given JSON back into an array or object.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$value`
a|

|link:http://php.net/bool[bool^]
a|`$asObject`
a|
|===


[source%nowrap, php]
----

public fromDateTime($value):string

----

    





Convert a DateTime to a storable string.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$value`
a|
|===


[source%nowrap, php]
----

public getDates():array

----

    





Get the attributes that should be converted to dates.

[source%nowrap, php]
----

public setDateFormat($format):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Set the date format used by the model.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$format`
a|
|===


[source%nowrap, php]
----

public hasCast($key, $types = null):bool

----

    





Determine whether an attribute should be cast to a native type.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$key`
a|

|
a|`$types`
a|
|===


[source%nowrap, php]
----

public getCasts():array

----

    





Get the casts array.

[source%nowrap, php]
----

public getAttributes():array

----

    





Get all of the current attributes on the model.

[source%nowrap, php]
----

public setRawAttributes($attributes, $sync = false):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Set the array of model attributes. No checking is done.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$attributes`
a|

|link:http://php.net/bool[bool^]
a|`$sync`
a|
|===


[source%nowrap, php]
----

public getOriginal($key = null, $default = null):void

----

    





Get the model&#039;s original attribute values.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$key`
a|

|
a|`$default`
a|
|===


[source%nowrap, php]
----

public only($attributes):array

----

    





Get a subset of the model&#039;s attributes.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$attributes`
a|
|===


[source%nowrap, php]
----

public syncOriginal():Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Sync the original attributes with the current.

[source%nowrap, php]
----

public syncOriginalAttribute($attribute):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Sync a single original attribute with its current value.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$attribute`
a|
|===


[source%nowrap, php]
----

public syncChanges():Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Sync the changed attributes.

[source%nowrap, php]
----

public isDirty($attributes = null):bool

----

    





Determine if the model or given attribute(s) have been modified.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$attributes`
a|
|===


[source%nowrap, php]
----

public isClean($attributes = null):bool

----

    





Determine if the model or given attribute(s) have remained the same.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$attributes`
a|
|===


[source%nowrap, php]
----

public wasChanged($attributes = null):bool

----

    





Determine if the model or given attribute(s) have been modified.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$attributes`
a|
|===


[source%nowrap, php]
----

public getDirty():array

----

    





Get the attributes that have been changed since last sync.

[source%nowrap, php]
----

public getChanges():array

----

    





Get the attributes that were changed.

[source%nowrap, php]
----

public getMutatedAttributes():array

----

    





Get the mutated attributes for a given instance.

[source%nowrap, php]
----

public static cacheMutatedAttributes($class):void

----

    





Extract and cache all the mutated attributes of a class.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$class`
a|
|===


[source%nowrap, php]
----

public relationLoaded():void

----

    








[[plugin_contracts_query]]
=== Query

database query



==== Namespace

`Plenty\Modules\Plugin\DataBase\Contracts`






==== Methods

[source%nowrap, php]
----

public select($columns = []):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a basic select clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$columns`
a|
|===


[source%nowrap, php]
----

public where($fieldName, $operator = null, $value = null):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a basic where clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|
a|`$value`
a|
|===


[source%nowrap, php]
----

public whereIn($fieldName, $values, $boolean = &quot;and&quot;, $not = false):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where in&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/array[array^]
a|`$values`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|

|link:http://php.net/bool[bool^]
a|`$not`
a|
|===


[source%nowrap, php]
----

public orWhereIn($fieldName, $values):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;or where in&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/array[array^]
a|`$values`
a|
|===


[source%nowrap, php]
----

public orWhere($fieldName, $operator = null, $value = null):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;or where&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|
a|`$value`
a|
|===


[source%nowrap, php]
----

public whereNull($fieldName, $boolean = &quot;and&quot;, $not = false):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where null&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|

|link:http://php.net/bool[bool^]
a|`$not`
a|
|===


[source%nowrap, php]
----

public orWhereNull($fieldName):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;or where null&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|
|===


[source%nowrap, php]
----

public whereBetween($column, $values, $boolean = &quot;and&quot;, $not = false):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a where between statement to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$column`
a|

|link:http://php.net/array[array^]
a|`$values`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|

|link:http://php.net/bool[bool^]
a|`$not`
a|
|===


[source%nowrap, php]
----

public whereNotBetween($column, $values, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a where not between statement to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$column`
a|

|link:http://php.net/array[array^]
a|`$values`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|
|===


[source%nowrap, php]
----

public whereDate($column, $operator, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where date&quot; statement to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$column`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|
a|`$value`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|
|===


[source%nowrap, php]
----

public whereMonth($column, $operator, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where month&quot; statement to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$column`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|
a|`$value`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|
|===


[source%nowrap, php]
----

public whereDay($column, $operator, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where day&quot; statement to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$column`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|
a|`$value`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|
|===


[source%nowrap, php]
----

public whereYear($column, $operator, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where year&quot; statement to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$column`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|
a|`$value`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|
|===


[source%nowrap, php]
----

public whereTime($column, $operator, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;where time&quot; statement to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$column`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|link:http://php.net/int[int^]
a|`$value`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|
|===


[source%nowrap, php]
----

public having($fieldName, $operator = null, $value = null, $boolean = &quot;and&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;having&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|link:http://php.net/string[string^]
a|`$value`
a|

|link:http://php.net/string[string^]
a|`$boolean`
a|
|===


[source%nowrap, php]
----

public orHaving($fieldName, $operator = null, $value = null):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add a &quot;or having&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/string[string^]
a|`$operator`
a|

|link:http://php.net/string[string^]
a|`$value`
a|
|===


[source%nowrap, php]
----

public orderBy($fieldName, $direction = &quot;asc&quot;):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Add an &quot;order by&quot; clause to the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$fieldName`
a|

|link:http://php.net/string[string^]
a|`$direction`
a|
|===


[source%nowrap, php]
----

public forPage($page, $perPage = 15):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Set the limit and offset for a given page.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$page`
a|

|link:http://php.net/int[int^]
a|`$perPage`
a|
|===


[source%nowrap, php]
----

public count($columns = &quot;*&quot;):int

----

    





Retrieve the &quot;count&quot; result of the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$columns`
a|
|===


[source%nowrap, php]
----

public limit($value):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Set the &quot;limit&quot; value of the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$value`
a|
|===


[source%nowrap, php]
----

public offset($value):Plenty\Modules\Plugin\DataBase\Contracts

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_database_contracts[`Contracts`]


Set the &quot;offset&quot; value of the query.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$value`
a|
|===


[source%nowrap, php]
----

public getCountForPagination($columns = []):int

----

    





Get the count of the total records for the paginator.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$columns`
a|
|===


[source%nowrap, php]
----

public get():array

----

    







[source%nowrap, php]
----

public delete():bool

----

    







[[plugin_dynamodb]]
= DynamoDb

[[plugin_dynamodb_contracts]]
== Contracts
[[plugin_contracts_dynamodbrepositorycontract]]
=== DynamoDbRepositoryContract

AWS DynamoDb Repository (Deprecated)

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====


==== Namespace

`Plenty\Modules\Plugin\DynamoDb\Contracts`






==== Methods

[source%nowrap, php]
----

public createTable($pluginName, $tableName, $attributeDefinitions, $keySchema, $readCapacityUnits = 3, $writeCapacityUnits = 2):bool

----

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====
    





Create a table

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|name of your plugin

|link:http://php.net/string[string^]
a|`$tableName`
a|

|link:http://php.net/array[array^]
a|`$attributeDefinitions`
a|http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_AttributeValue.html

|link:http://php.net/array[array^]
a|`$keySchema`
a|

|link:http://php.net/int[int^]
a|`$readCapacityUnits`
a|

|link:http://php.net/int[int^]
a|`$writeCapacityUnits`
a|
|===


[source%nowrap, php]
----

public updateTable($pluginName, $tableName, $readCapacityUnits = 3, $writeCapacityUnits = 2):bool

----

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====
    





Update a table

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|name of your plugin

|link:http://php.net/string[string^]
a|`$tableName`
a|

|link:http://php.net/int[int^]
a|`$readCapacityUnits`
a|

|link:http://php.net/int[int^]
a|`$writeCapacityUnits`
a|
|===


[source%nowrap, php]
----

public putItem($pluginName, $tableName, $item):bool

----

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====
    





Add item to table

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|name of your plugin

|link:http://php.net/string[string^]
a|`$tableName`
a|

|link:http://php.net/array[array^]
a|`$item`
a|
|===


[source%nowrap, php]
----

public getItem($pluginName, $tableName, $consistentRead, $key):array

----

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====
    





Retrieving items

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|name of your plugin

|link:http://php.net/string[string^]
a|`$tableName`
a|

|link:http://php.net/bool[bool^]
a|`$consistentRead`
a|

|link:http://php.net/array[array^]
a|`$key`
a|
|===


[source%nowrap, php]
----

public deleteItem($pluginName, $tableName, $key):bool

----

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====
    





Delete an item

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|name of your plugin

|link:http://php.net/string[string^]
a|`$tableName`
a|

|link:http://php.net/array[array^]
a|`$key`
a|
|===


[source%nowrap, php]
----

public deleteTable($pluginName, $tableName):bool

----

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====
    





Deleting a table

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|name of your plugin

|link:http://php.net/string[string^]
a|`$tableName`
a|
|===


[source%nowrap, php]
----

public scan($pluginName, $tableName, $returnFields = &quot;&quot;, $expressionAttributeValues = [], $filterExpression = &quot;&quot;, $limit):void

----

[WARNING]
.Deprecated! [small]#(since 2017-06-30)#
====

Please use Plenty\Modules\Plugin\DataBase\Contracts\DataBase instead

====
    





A scan operation scans the entire table. You can specify filters to apply to the results to refine the values returned to you, after the complete scan. Amazon DynamoDB puts a 1MB limit on the scan (the limit applies before the results are filtered).

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|name of your plugin

|link:http://php.net/string[string^]
a|`$tableName`
a|

|link:http://php.net/string[string^]
a|`$returnFields`
a|

|link:http://php.net/array[array^]
a|`$expressionAttributeValues`
a|

|link:http://php.net/string[string^]
a|`$filterExpression`
a|

|link:http://php.net/int[int^]
a|`$limit`
a|is taken into account when value greater than 0
|===


[[plugin_libs]]
= Libs

[[plugin_libs_contracts]]
== Contracts
[[plugin_contracts_librarycallcontract]]
=== LibraryCallContract

library call



==== Namespace

`Plenty\Modules\Plugin\Libs\Contracts`






==== Methods

[source%nowrap, php]
----

public call($libCall, $params = []):array

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$libCall`
a|

|link:http://php.net/array[array^]
a|`$params`
a|
|===


[[plugin_pluginset]]
= PluginSet

[[plugin_pluginset_contracts]]
== Contracts
[[plugin_contracts_pluginsetentryrepositorycontract]]
=== PluginSetEntryRepositoryContract

get, create, update or delete plugin set entries



==== Namespace

`Plenty\Modules\Plugin\PluginSet\Contracts`






==== Methods

[source%nowrap, php]
----

public get($idOrInstance):Plenty\Modules\Plugin\PluginSet\Models\PluginSetEntry

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_models_pluginsetentry[`PluginSetEntry`]


Get a PluginSetEntry.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$idOrInstance`
a|The Id of the PluginSetEntry to retrieve or the PluginSetEntry object itself.
|===


[source%nowrap, php]
----

public create($data):Plenty\Modules\Plugin\PluginSet\Models\PluginSetEntry

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_models_pluginsetentry[`PluginSetEntry`]


Create a set entry.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$data`
a|Must contain a 'pluginId' field and a 'pluginSetId' field to specify which plugin should be associated with which plugin set in the
newly created set entry: ['pluginId' => 5, 'pluginSetId' => 3]
|===


[source%nowrap, php]
----

public copyToPluginSet($pluginSetEntryOrId, $pluginSetOrId, $copyConfigurations):Plenty\Modules\Plugin\PluginSet\Models\PluginSetEntry

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_models_pluginsetentry[`PluginSetEntry`]


Copy a PluginSetEntry to a PluginSet

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$pluginSetEntryOrId`
a|The id of the PluginSetEntry that should be copied, or the PluginSetEntry object itself

|
a|`$pluginSetOrId`
a|The id of the PluginSet the entry should be copied to, or the PluginSet object itself

|link:http://php.net/bool[bool^]
a|`$copyConfigurations`
a|true if the configurations related to the set entry should also be copied, false if not
|===


[source%nowrap, php]
----

public update($id, $data):bool

----

    





Update a PluginSetEntry. Associate a set entry with a new set, a new plugin, or both.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$id`
a|The id of the set entry to update

|link:http://php.net/array[array^]
a|`$data`
a|Must contain EITHER a 'pluginId' field OR a 'pluginSetId' field OR both.
|===


[source%nowrap, php]
----

public delete($what):int

----

    





Delete a PluginSetEntry

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$what`
a|The PluginSetEntry object to delete or a PluginSetEntry-Id
|===



[[plugin_contracts_pluginsetrepositorycontract]]
=== PluginSetRepositoryContract

list, create, update or delete plugin sets



==== Namespace

`Plenty\Modules\Plugin\PluginSet\Contracts`






==== Methods

[source%nowrap, php]
----

public count():int

----

    





Count current plugin sets.

[source%nowrap, php]
----

public create($data):Plenty\Modules\Plugin\PluginSet\Models\PluginSet

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_models_pluginset[`PluginSet`]


Create a plugin set. The data array has to contain a &#039;name&#039; field. Throws a &#039;TooManyPluginSetsException&#039; if the maximum number of sets is exceeded.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$data`
a|The data for the newly created plugin set. Only the 'name' field is required: ['name' => 'MyNewPluginSet'].
|===


[source%nowrap, php]
----

public copy($data):Plenty\Modules\Plugin\PluginSet\Models\PluginSet

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_models_pluginset[`PluginSet`]


Copy a plugin set. All set entries from the source set will be copied into the new set.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/array[array^]
a|`$data`
a|Has to contain the Id of the plugin set to copy from and the name for the new set: ['copyPluginSetId' => 12, 'name' =>
'NewSetWithCopiedEntries'].
|===


[source%nowrap, php]
----

public update($id, $data):Plenty\Modules\Plugin\PluginSet\Models\PluginSet

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_models_pluginset[`PluginSet`]


Update a set. Only the &#039;name&#039; field can be updated.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$id`
a|Id of the plugin set to update

|link:http://php.net/array[array^]
a|`$data`
a|Update data must only contain a 'name' field: ['name' => 'NewNameForMySet']
|===


[source%nowrap, php]
----

public delete($what):int

----

    





Delete a set.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$what`
a|The PluginSet object to delete or a PluginSet-Id
|===


[source%nowrap, php]
----

public get($pluginSetOrId):Plenty\Modules\Plugin\PluginSet\Models\PluginSet

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_models_pluginset[`PluginSet`]


Get a plugin set.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$pluginSetOrId`
a|The Id of the plugin set to retrieve from the database. If a PluginSet object is passed instead of an integer, the
object is returned without change.
|===


[source%nowrap, php]
----

public list():void

----

    





List all plugin sets.

[source%nowrap, php]
----

public listSetEntries($id):void

----

    





List all set entries of a plugin set.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$id`
a|The Id of the plugin set to list the entries from.
|===


[source%nowrap, php]
----

public listWebstores($id):void

----

    





List all webstores a plugin set is related to.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$id`
a|The Id of the set in question
|===


[source%nowrap, php]
----

public listLayoutContainers($id):void

----

    





List all LayoutContainers for a plugin set.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$id`
a|The Id of the plugin set in question
|===


[source%nowrap, php]
----

public getOrCreatePluginSetEntry($id, $pluginId, $withTrashed = false, $resetCache = true):Plenty\Modules\Plugin\PluginSet\Models\PluginSetEntry

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_models_pluginsetentry[`PluginSetEntry`]


Get the PluginSetEntry object containing a specific plugin for a set. If a PluginSetEntry does not exist, it will be created.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$id`
a|The Id of the plugin set in question

|link:http://php.net/int[int^]
a|`$pluginId`
a|The Id of the plugin in question

|link:http://php.net/bool[bool^]
a|`$withTrashed`
a|If true, deleted PluginSetEntries will be included. Default is false.

|link:http://php.net/bool[bool^]
a|`$resetCache`
a|
|===


[source%nowrap, php]
----

public changePluginActiveStatusForSet($pluginSetId, $pluginId, $active):Plenty\Modules\Plugin\Models\Plugin

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_models_plugin[`Plugin`]


Activates / deactivates a plugin for a set by trashing or restoring the respective set entry.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$pluginSetId`
a|The id of the plugin set in question

|link:http://php.net/int[int^]
a|`$pluginId`
a|The id of the plugin in question

|link:http://php.net/bool[bool^]
a|`$active`
a|true if the plugin should be activated for the set, false if it should be deactivated.
|===


[source%nowrap, php]
----

public removePluginFromSet($setId, $pluginId):Plenty\Modules\Plugin\Models\Plugin

----

    


===== *Return type:*        xref:Plugin.adoc#plugin_models_plugin[`Plugin`]


Remove a plugin from a set.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$setId`
a|The Id of the plugin set in question

|link:http://php.net/int[int^]
a|`$pluginId`
a|The Id of the plugin that should be removed from the set.
|===


[source%nowrap, php]
----

public createPreviewHash($setId):string

----

    





Create a preview hash for a plugin set.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$setId`
a|The plugin set in question
|===


[source%nowrap, php]
----

public getPreviewPluginSetId($previewHash):void

----

    





Extract a plugin set id from a preview hash.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$previewHash`
a|The preview has to extract the plugin set id from
|===


[source%nowrap, php]
----

public installGitPlugin($setId, $pluginId, $requestData):bool

----

    





Install a git-plugin into a set.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$setId`
a|The Id of the plugin set to install the plugin into

|link:http://php.net/int[int^]
a|`$pluginId`
a|The Id of the (git-) plugin that should be installed into the set

|link:http://php.net/array[array^]
a|`$requestData`
a|Must contain a 'branch' field that specifies the branch that should be installed: ['branch' => 'stable']
|===


[source%nowrap, php]
----

public setPosition($setId, $pluginId, $requestData):void

----

    





Change the position of a plugin in a set

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$setId`
a|The id of the plugin set in question

|link:http://php.net/int[int^]
a|`$pluginId`
a|The id of the plugin of which the position should be changed

|link:http://php.net/array[array^]
a|`$requestData`
a|Must contain a 'position' field with an integer specifying the new position: ['position' => 99]
|===


[source%nowrap, php]
----

public getSyncState($pluginSetId):bool

----

    





Get the sync state, to determine if Plugins have been (de-)activated since last build.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$pluginSetId`
a|The id of the PluginSet
|===


[source%nowrap, php]
----

public getPluginSetHash($pluginSetOrId):string

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|
a|`$pluginSetOrId`
a|
|===


[source%nowrap, php]
----

public getPluginSetIdFromHash($pluginSetHash):int

----

    







.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginSetHash`
a|
|===


[source%nowrap, php]
----

public getCurrentPluginSetId():int

----

    





Get the PluginSetID of the currently running plugin.

[[plugin_pluginset_models]]
== Models
[[plugin_models_pluginset]]
=== PluginSet

Eloquent model representing a PluginSet.



==== Namespace

`Plenty\Modules\Plugin\PluginSet\Models`





.Properties
[cols="10%,30%,60%"]
|===
|Type |Name |Description

|link:http://php.net/int[int^]
    a|id
    a|
|link:http://php.net/string[string^]
    a|hash
    a|
|link:http://php.net/int[int^]
    a|parentPluginSetId
    a|
|        xref:Plugin.adoc#plugin_models_pluginset[`PluginSet`]
    a|parentPluginSet
    a|
|link:http://php.net/string[string^]
    a|name
    a|
|
    a|pluginSetEntries
    a|
|
    a|pluginSetEntriesWithTrashed
    a|
|
    a|layoutContainers
    a|
|
    a|webstores
    a|
|===


==== Methods

[source%nowrap, php]
----

public toArray()

----

    





Returns this model as an array.


[[plugin_models_pluginsetentry]]
=== PluginSetEntry

Eloquent model representing a PluginSetEntry.



==== Namespace

`Plenty\Modules\Plugin\PluginSet\Models`





.Properties
[cols="10%,30%,60%"]
|===
|Type |Name |Description

|link:http://php.net/int[int^]
    a|id
    a|
|link:http://php.net/int[int^]
    a|pluginId
    a|
|link:http://php.net/int[int^]
    a|pluginSetId
    a|
|        xref:Plugin.adoc#plugin_models_plugin[`Plugin`]
    a|plugin
    a|
|link:http://php.net/string[string^]
    a|branchName
    a|
|link:http://php.net/string[string^]
    a|commit
    a|
|link:http://php.net/int[int^]
    a|position
    a|
|===


==== Methods

[source%nowrap, php]
----

public toArray()

----

    





Returns this model as an array.

[[plugin_storage]]
= Storage

[[plugin_storage_contracts]]
== Contracts
[[plugin_contracts_storagerepositorycontract]]
=== StorageRepositoryContract

Storage Repository



==== Namespace

`Plenty\Modules\Plugin\Storage\Contracts`






==== Methods

[source%nowrap, php]
----

public uploadObject($pluginName, $key, $body, $publicVisible = false, $metaData = []):Plenty\Modules\Cloud\Storage\Models\StorageObject

----

    


===== *Return type:*        xref:Cloud.adoc#cloud_models_storageobject[`StorageObject`]


Create an object with content in $body

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|name of your plugin

|link:http://php.net/string[string^]
a|`$key`
a|e.g. myDir/x/y/z/HelloWorld.txt

|link:http://php.net/string[string^]
a|`$body`
a|file content

|link:http://php.net/bool[bool^]
a|`$publicVisible`
a|

|link:http://php.net/array[array^]
a|`$metaData`
a|
|===


[source%nowrap, php]
----

public getObject($pluginName, $key, $publicVisible = false):Plenty\Modules\Cloud\Storage\Models\StorageObject

----

    


===== *Return type:*        xref:Cloud.adoc#cloud_models_storageobject[`StorageObject`]


Get an object

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|name of your plugin

|link:http://php.net/string[string^]
a|`$key`
a|e.g. myDir/x/y/z/HelloWorld.txt

|link:http://php.net/bool[bool^]
a|`$publicVisible`
a|
|===


[source%nowrap, php]
----

public getObjectUrl($pluginName, $key, $publicVisible = false, $minutesToExpire = 5):string

----

    





Returns the URL to an object identified by its bucket and key. The URL will be signed and set to expire at the provided time.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|name of your plugin

|link:http://php.net/string[string^]
a|`$key`
a|e.g. myDir/x/y/z/HelloWorld.txt

|link:http://php.net/bool[bool^]
a|`$publicVisible`
a|

|link:http://php.net/int[int^]
a|`$minutesToExpire`
a|Minutes between 1 and 15
|===


[source%nowrap, php]
----

public getObjectAsTemporaryFileResource($pluginName, $key, $publicVisible = false):string

----

    





Get local file resource of an object. Use this if it is really necessary! Using getObject is the normal and effective way.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|name of your plugin

|link:http://php.net/string[string^]
a|`$key`
a|e.g. myDir/x/y/z/HelloWorld.txt

|link:http://php.net/bool[bool^]
a|`$publicVisible`
a|
|===


[source%nowrap, php]
----

public doesObjectExist($pluginName, $key, $publicVisible = false):bool

----

    





Checks if object exists

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|name of your plugin

|link:http://php.net/string[string^]
a|`$key`
a|e.g. myDir/x/y/z/HelloWorld.txt

|link:http://php.net/bool[bool^]
a|`$publicVisible`
a|
|===


[source%nowrap, php]
----

public deleteObject($pluginName, $key, $publicVisible = false):bool

----

    





Executes the DeleteObject operation.

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|name of your plugin

|link:http://php.net/string[string^]
a|`$key`
a|myDir/HelloWorld.txt

|link:http://php.net/bool[bool^]
a|`$publicVisible`
a|
|===


[source%nowrap, php]
----

public listObjects($pluginName, $prefix = &quot;&quot;, $limit, $startKey = &quot;&quot;, $continuationToken = &quot;&quot;, $publicVisible = false, $resultKeyWithoutPrefix = true):Plenty\Modules\Cloud\Storage\Models\StorageObjectList

----

    


===== *Return type:*        xref:Cloud.adoc#cloud_models_storageobjectlist[`StorageObjectList`]


Returns some or all (up to 1000) objects

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/string[string^]
a|`$pluginName`
a|name of your plugin

|link:http://php.net/string[string^]
a|`$prefix`
a|Limits the response to keys that begin with the specified prefix.

|link:http://php.net/int[int^]
a|`$limit`
a|The total number of items to return.

|link:http://php.net/string[string^]
a|`$startKey`
a|is where you want to start listing from. $startKey can be any key in the bucket.

|link:http://php.net/string[string^]
a|`$continuationToken`
a|indicates that the list is being continued on this bucket with a token.

|link:http://php.net/bool[bool^]
a|`$publicVisible`
a|

|link:http://php.net/bool[bool^]
a|`$resultKeyWithoutPrefix`
a|
|===


[source%nowrap, php]
----

public getPluginZip($pluginSetId, $pluginName):void

----

    





Get all objects of a plugin as zip file

.*Parameters*
[cols="10%,30%,60%"]
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$pluginSetId`
a|

|link:http://php.net/string[string^]
a|`$pluginName`
a|
|===


[[plugin_versioncontrol]]
= VersionControl

[[plugin_versioncontrol_models]]
== Models
[[plugin_models_git]]
=== Git

Model holding plugin data concerning Git version control.



==== Namespace

`Plenty\Modules\Plugin\VersionControl\Models`





.Properties
[cols="10%,30%,60%"]
|===
|Type |Name |Description

|link:http://php.net/int[int^]
    a|id
    a|git id
|link:http://php.net/int[int^]
    a|pluginId
    a|plugin id
|link:http://php.net/string[string^]
    a|username
    a|username for remote account
|link:http://php.net/string[string^]
    a|password
    a|password for remote account
|link:http://php.net/string[string^]
    a|remoteUrl
    a|url for remote repository
|link:http://php.net/string[string^]
    a|branch
    a|actual selected branch
|link:http://php.net/bool[bool^]
    a|autoFetch
    a|automatically fetch from remote repository
|link:http://php.net/string[string^]
    a|webhookToken
    a|token needed for development
|link:http://php.net/string[string^]
    a|createdAt
    a|created timestamp
|link:http://php.net/string[string^]
    a|updatedAt
    a|last update timestamp
|        xref:Plugin.adoc#plugin_models_plugin[`Plugin`]
    a|plugin
    a|
|===


==== Methods

[source%nowrap, php]
----

public toArray()

----

    





Returns this model as an array.

